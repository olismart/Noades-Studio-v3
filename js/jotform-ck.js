/*jslint nomen:false, debug:true, evil:true, vars:false, browser:true, forin:true, undef:false, white:false *//**
 * JotForm Form object
 *//* eslint-disable */function getQuerystring(e,t){t==null&&(t="");e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=n.exec(window.location.href);return r==null?t:r[1]}function onProductImageClicked(e){if(!document.getElementById("payment_enable_lightbox"))return;var t;window.getAllProperties&&window.getAllProperties().form_products?t=window.getAllProperties().form_products.map(function(e){return e.icon}).filter(function(e){return e}):document.querySelectorAll&&(t=Array.prototype.map.call(document.querySelectorAll("span.form-product-item img"),function(e){return e.src}));if(!t||!t.length)return;var n=e,r=t.splice(n,1)[0];t.splice(0,0,r);var i=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div");i.id="productImageOverlay";i.className="overlay";i.tabIndex=-1;s.className="overlay-content";o.className="img-wrapper";i.appendChild(s);s.appendChild(o);var u=document.createElement("span"),a=document.createElement("span"),f=document.createElement("span");u.innerText="prev";a.innerText="next";f.innerText="( X )";u.className="lb-prev-button";a.className="lb-next-button";f.className="lb-close-button";s.appendChild(u);s.appendChild(a);s.appendChild(f);var l=t.map(function(e){var t=document.createElement("img");t.style.display="none";t.src=e;return t});l[0].style.display="block";l.forEach(function(e){o.appendChild(e)});var c=0,h=l.length,p=function(){l[c].style.display="none";c-=1;c==-1&&(c=h-1);l[c].style.display="block";m()};u.onclick=p;var d=function(){l[c].style.display="none";c+=1;c==h&&(c=0);l[c].style.display="block";m()};a.onclick=d;s.onclick=function(e){e.stopPropagation()};var v=function(){window.onresize=null;i.remove()};f.onclick=v;i.onclick=v;var m=function(){var e=window.innerWidth,t=window.innerHeight,n=Math.min(e,t)*.75+"px",r=e<t?{maxWidth:n,height:"auto",width:"auto",maxHeight:"none"}:{width:"auto",maxHeight:n,height:"auto",maxWidth:"none"};s.style.maxWidth=r.maxWidth;s.style.maxHeight=r.maxHeight;s.style.width=r.width;s.style.height=r.height;l[c].style.maxHeight=r.maxHeight;l[c].style.maxWidth=r.maxWidth;l[c].style.width=r.width;l[c].style.height=r.height},g=function(e){m()};window.onresize=g;i.onkeydown=function(e){e.stopPropagation();e.preventDefault();e.keyCode==37||e.keyCode==38?p():e.keyCode==39||e.keyCode==40?d():e.keyCode==27&&i.remove()};document.body.appendChild(i);i.focus();m()}var JotForm={url:"//www.jotform.com/",server:"//www.jotform.com/server.php",conditions:{},calculations:{},condValues:{},progressBar:!1,forms:[],saveForm:!1,imageFiles:["png","jpg","jpeg","ico","tiff","bmp","gif","apng","jp2","jfif"],autoCompletes:{},defaultValues:{},debug:!1,highlightInputs:!0,noJump:!1,initializing:!0,lastFocus:!1,payment:!1,fieldsToPreserve:[],saving:!1,texts:{confirmEmail:"E-mail does not match",pleaseWait:"Please wait...",confirmClearForm:"Are you sure you want to clear the form",lessThan:"Your score should be less than or equal to",incompleteFields:"There are incomplete required fields. Please complete them.",required:"This field is required.",requireOne:"At least one field required.",requireEveryRow:"Every row is required.",requireEveryCell:"Every cell is required.",email:"Enter a valid e-mail address",alphabetic:"This field can only contain letters",numeric:"This field can only contain numeric values",alphanumeric:"This field can only contain letters and numbers.",cyrillic:"This field can only contain cyrillic characters",url:"This field can only contain a valid URL",currency:"This field can only contain currency values.",fillMask:"Field value must fill mask.",uploadExtensions:"You can only upload following files:",noUploadExtensions:"File has no extension file type (e.g. .txt, .png, .jpeg)",uploadFilesize:"File size cannot be bigger than:",uploadFilesizemin:"File size cannot be smaller than:",gradingScoreError:"Score total should only be less than or equal to",inputCarretErrorA:"Input should not be less than the minimum value:",inputCarretErrorB:"Input should not be greater than the maximum value:",maxDigitsError:"The maximum digits allowed is",freeEmailError:"Free email accounts are not allowed",minSelectionsError:"The minimum required number of selections is ",maxSelectionsError:"The maximum number of selections allowed is ",pastDatesDisallowed:"Date must not be in the past.",dateLimited:"This date is unavailable.",dateInvalid:"This date is not valid. The date format is {format}",dateInvalidSeparate:"This date is not valid. Enter a valid {element}.",multipleFileUploads_typeError:"{file} has invalid extension. Only {extensions} are allowed.",multipleFileUploads_sizeError:"{file} is too large, maximum file size is {sizeLimit}.",multipleFileUploads_minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",multipleFileUploads_emptyError:"{file} is empty, please select files again without it.",multipleFileUploads_onLeave:"The files are being uploaded, if you leave now the upload will be cancelled.",multipleFileUploads_fileLimitError:"Only {fileLimit} file uploads allowed.",generalError:"There are errors on the form. Please fix them before continuing.",generalPageError:"There are errors on this page. Please fix them before continuing.",wordLimitError:"Too many words. The limit is",wordMinLimitError:"Too few words.  The minimum is",characterLimitError:"Too many Characters.  The limit is",characterMinLimitError:"Too few characters. The minimum is",ccInvalidNumber:"Credit Card Number is invalid.",ccInvalidCVC:"CVC number is invalid.",ccInvalidExpireDate:"Expire date is invalid.",ccMissingDetails:"Please fill up the credit card details.",ccMissingProduct:"Please select at least one product.",ccMissingDonation:"Please enter numeric values for donation amount.",disallowDecimals:"Please enter a whole number."},paymentTexts:{couponApply:"Apply",couponChange:"Change",couponEnter:"Enter Coupon",couponExpired:"Coupon is expired. Please try another one.",couponInvalid:"Coupon is invalid. Please try another one.",couponValid:"Coupon is valid.",couponBlank:"Please enter a coupon.",shippingShipping:"Shipping",totalTotal:"Total",totalSubtotal:"Subtotal",taxTax:"Tax"},isEncrypted:!1,tempUploadFolderInjected:!1,encryptAll:function(e,t){e.stop();var n=["control_captcha","control_paypal","control_stripe","control_paypalexpress","control_authnet","control_paypalpro","control_paymill","control_braintree","control_dwolla","control_payment","control_square","control_boxpayment"],r=["control_number","control_spinner","control_email","control_dropdown","control_datetime","control_matrix","control_birthdate","control_time","control_scale"],i=["control_stripe","control_braintree","control_square"],s=!0,o=[];$$(".form-textbox, .form-textarea, .form-radio, .form-checkbox, .form-dropdown, .form-number-input").each(function(e){var t=e.up("li").readAttribute("data-type"),u=e.id.replace(/\w+_(\d+)(.+)?/,"$1");i.indexOf(t)>-1&&(s=!1);if(n.indexOf(t)!==-1)return;if(t=="control_matrix"&&["checkbox","radio"].include(e.type))return;if(o.indexOf(e.name)!==-1&&!e.up().hasClassName("form-matrix-values"))return;if(JotForm.fieldsToPreserve.indexOf(u)>-1||JotForm.uniqueField&&JotForm.uniqueField==e.id.replace(/\w+_(\d+)(.+)?/,"$1")){var a=e.name.replace(/(\w+)(\[\w+\])?/,"$1_unencrypted$2");JotForm.forms[0].insert((new Element("input",{type:"hidden",name:a})).putValue(e.value))}var f=JotEncrypted.encrypt(e.value);o.push(e.name);if(t=="control_textarea"){var l=$$('[name="'+e.name+'"]');for(x=0;x<l.length;x++)l[x].value=f;return}if(r.indexOf(t)!==-1||e.tagName=="SELECT"){if(t=="control_scale"&&!e.checked){o=o.filter(function(t){return t!==e.name});return}var c=$$(".jotform-form")[0];c.insert((new Element("input",{type:"hidden",name:e.name})).putValue(f));t=="control_matrix"&&(e.name="");return}if(e.getAttribute("masked")){var h=e.getAttribute("maskvalue");JotForm.setQuestionMasking(e,"",h,!0)}e.value=f});t(s)},getServerURL:function(){var e=$$(".jotform-form")[0],t,n=window.location.origin||window.location.protocol+"//"+window.location.hostname;if(e){if(n.include(".jotform.pro")){this.server=n+"/server.php";this.url=n;return}if(t=e.readAttribute("action"))if(t.include("submit.php")||t.include("server.php")){var r=t.include("server.php")?"server":"submit";this.server=t.replace(r+".php","server.php");this.url=t.replace(r+".php","")}else{var i=t.replace(/\/submit\/.*?$/,"/");t.include("pci.jotform.com")&&(i=i.replace("pci.","submit."));this.server=i+"server.php";this.url=i}}},alterTexts:function(e,t){if(t&&!!e){Object.extend(this.paymentTexts,e);this.changePaymentStrings(e)}else Object.extend(this.texts,e||{})},ie:function(){var e,t=3,n=document.createElement("div"),r=n.getElementsByTagName("i");while(n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",r[0]);return t>4?t:e},createConsole:function(){var e=["log","info","warn","error"];$A(e).each(function(e){this[e]=function(){if(JotForm.debug&&"console"in window)try{console[e].apply(this,arguments)}catch(t){typeof arguments[0]=="string"?console.log(e.toUpperCase()+": "+$A(arguments).join(", ")):Prototype.Browser.IE?alert(e+": "+arguments[0]):console[e](arguments[0])}}}.bind(this));JotForm.debug&&(JotForm.debugOptions=document.readJsonCookie("debug_options"))},init:function(e){var t=function(){try{this.populateGet();document.get.debug=="1"&&(this.debug=!0);this.createConsole();this.getServerURL();this.checkJSON();e&&e();if(window.location.href.indexOf("/edit/")!==-1){document.get.sid=window.location.href.split("/").last();this.editMode()}(document.get.mode=="edit"||document.get.mode=="inlineEdit"||document.get.mode=="submissionToPDF")&&document.get.sid&&this.editMode();this.noJump="nojump"in document.get;this.uniqueID=this.uniqid();this.handleSavedForm();this.setTitle();this.setHTMLClass();this.getDefaults();this.noJump&&window.parent.postMessage("removeIframeOnloadAttr","*");$$('input[name="simple_fpc"]').length>0&&(this.payment=$$('input[name="simple_fpc"]')[0].getAttribute("data-payment_type"));!$$(".form-product-custom_price").length||this.handleSubscriptionPrice();if(this.payment==="paypalpro"){this.handlePaypalPro();this.isFormEmbedded()}this.payment==="braintree"&&this.handleBraintree();this.payment==="square"&&this.handleSquare();this.payment==="authnet"&&this.handleAuthNet();if(this.payment==="paypalexpress"){this.handlePaypalExpress();this.isFormEmbedded()}$("coupon-button")&&this.handleCoupon();$$(".paypal-button").length>0&&$("use_paypal_button")&&this.handlePaypalButtons();this.handleFormCollapse();this.handlePages();$$(".form-product-has-subproducts").length>0&&this.handlePaymentSubProducts();if(window.parent&&window.parent!=window){this.handleIFrameHeight();if(!!$$('li[data-type="control_captcha"]').length)var t=setInterval(function(){if($("recaptcha_challenge_image")){clearInterval(t);JotForm.handleIFrameHeight()}},500)}Element.prototype.triggerEvent=function(e){var t=this.hasClassName("form-dropdown")&&this.disabled?!!this.enable():!1;if(document.createEvent){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0);this.dispatchEvent(n)}else this.fireEvent&&this.fireEvent("on"+e);t&&this.disable()};this.jumpToPage();this.highLightLines();this.setButtonActions();this.initGradingInputs();this.initSpinnerInputs();this.initNumberInputs();this.setConditionEvents();this.setCalculationEvents();this.runAllCalculations();this.setCalculationResultReadOnly();this.prePopulations();this.handleAutoCompletes();this.handleTextareaLimits();this.handleDateTimeChecks();this.handleOtherOptions();this.setFocusEvents();this.disableAcceptonChrome();this.handleScreenshot();$A(document.forms).each(function(e){(e.name=="form_"+e.id||e.name=="q_form_"+e.id)&&this.forms.push(e)}.bind(this));var n=$$("div[id^=recaptcha_input]").length;(!n||$$('*[class*="validate"]').length>n)&&this.validator();this.fixIESubmitURL();this.disableHTML5FormValidation();$("progressBar")&&this.setupProgressBar();$$('input[id*="_donation"]').length>0&&this.handleDonationAmount();getQuerystring("nosubmit")&&$$(".form-submit-button").each(function(e){e.disable()});if(getQuerystring("displayAllSections")){var r=$$(".form-section");r.each(function(e){e.setStyle({display:"block"})})}!navigator.userAgent.match(/iPhone|iPad/g)||(window.onpageshow=function(e){e.persisted&&JotForm.enableButtons()});var i=getQuerystring("preview");i=i?i==="true":!1;i?this.handlePreview(getQuerystring("filled")==="true"):this.initializing&&this.track();this.additionalActionsFormEmbedded();if(JotForm.showJotFormLogo){var s=$$(".form-all")[0];if(s){var o=$$('input[name="formID"]')[0].value,u="orange",a="#f38632",f="#aaa",l="//cdn.jotfor.ms/img/jot-logo-orange.png?v3",c="#fff";if(u==="white"){a="#fff";f="#fff";l="//cdn.jotfor.ms/img/jot-logo-white.png?v2";c="#f38632"}var h=document.createElement("div");h.className="jotform-ad";h.style.overflow="hidden";h.style.borderTop="1px solid #eee";h.style.padding="0 18px";h.style.textDecoration="none";h.style.fontFamily='"Lucida Grande", "Lucida Sans", "Lucida Sans Unicode", sans-serif';h.style.fontSize="12px";h.style.color=f;h.style.background=c;var p=document.createElement("a");p.href="https://www.jotform.com/signup?utm_source=formfooter&utm_medium=banner&utm_term="+o+"&utm_content=form_footer_banner&utm_campaign=form_footer_signup";p.target="_blank";p.setText("Powered by");p.style.lineHeight="48px";p.style.float="left";p.style.textDecoration="none";var d=document.createElement("img");d.src=l;d.alt="JotForm";d.style.height="23px";d.style.width="100px";d.style.marginLeft="3px";d.style.marginTop="-1px";d.style.display="inline-block";d.style.verticalAlign="middle";d.style.border="none";p.appendChild(d);bannerTextLink=document.createElement("a");bannerTextLink.target="_blank";bannerTextLink.href="https://www.jotform.com/signup?utm_source=formfooter&utm_medium=banner&utm_term="+o+"&utm_content=form_footer_text&utm_campaign=form_footer_signup";bannerTextLink.style.float="right";bannerTextLink.style.color=a;bannerTextLink.style.lineHeight="48px";bannerTextLink.setText("Create your own form today!");h.appendChild(p);h.appendChild(bannerTextLink);s.appendChild(h)}}if(JotForm.showJotFormPowered){var v=document.querySelector(".form-submit-button");if(v!==null){var m=$$(".jotform-form")[0],o=m.getAttribute("id"),g=v.parentNode,y=document.createElement("a");y.target="_blank";y.href="https://www.jotform.com/signup?utm_source=powered_by_jotform&utm_medium=banner&utm_term="+o+"&utm_content=powered_by_jotform_text&utm_campaign=powered_by_jotform_signup";y.setText("Powered by JotForm");y.style.display="inline-block";y.style.textDecoration="none";var b="#000000",w="",E=document.querySelector(".form-label");if(E!==null){b=getComputedStyle(document.querySelector(".form-label")).color;w=getComputedStyle(document.querySelector(".form-label")).fontFamily}y.style.opacity=.8;y.style.webkitFontSmoothing="antialiased";y.style.color=b;y.style.fontFamily=w;y.style.fontSize="11px";y.className="jf-branding";var S=document.createElement("br");g.appendChild(S);g.appendChild(y);if(getComputedStyle(g).textAlign!=="center"){var x=y.getBoundingClientRect(),T=v.getBoundingClientRect(),N=Math.abs((x.width-T.width)/2);x.width>T.width?y.style.marginLeft="-"+N+"px":y.style.marginLeft=N+"px"}}}}catch(C){JotForm.error(C)}this.initializing=!1}.bind(this);document.readyState=="complete"||this.jsForm&&(document.readyState===undefined||document.readyState==="interactive")?t():document.ready(t)},iframeRezizeTimeout:null,iframeHeightCaller:function(){if(window.parent&&window.parent!=window){clearTimeout(this.iframeRezizeTimeout);this.iframeRezizeTimeout=setTimeout(function(){this.handleIFrameHeight()}.bind(this),50)}},handleIFrameHeight:function(){var e=$$(".jotform-form").length>0?$$(".jotform-form")[0]:$$("body")[0],t=Math.max(e.getHeight(),e.scrollHeight,e.offsetHeight);t=document.title==="Please Complete"?300:t;"console"in window&&"log"in console&&console.log("Debug : setting height to ",t," from iframe");window.parent.postMessage("setHeight:"+t+":"+e.id,"*")},removeCover:function(){$$(".form-cover-wrapper").each(function(e){e.remove()});$$(".form-all").each(function(e){e.removeClassName("top-cover").removeClassName("left-cover").removeClassName("right-cover")})},fixIESubmitURL:function(){try{this.ie()<=8&&navigator.appVersion.indexOf("NT 5.")&&$A(this.forms).each(function(e){e.action.include("s://submit.")&&(e.action=e.action.replace(/\/\/submit\..*?\//,"//secure.jotform.com/"))})}catch(e){}},screenshot:!1,passive:!1,onprogress:!1,compact:!1,imageSaved:!1,handleScreenshot:function(){var e=this;setTimeout(function(){$$(".form-screen-button").each(function(t){if(window.parent&&window.parent.JotformFeedbackManager){e.getContainer(t).show();t.observe("click",function(){e.passive=!1;try{e.takeScreenShot(t.id.replace("button_",""))}catch(n){console.error(n)}});setTimeout(function(){e.passive=!window.parent.wishboxInstantLoad;e.takeScreenShot(t.id.replace("button_",""))},0)}})},300)},getCharset:function(e){e||(e=document);return e.characterSet||e.defaultCharset||e.charset||"UTF-8"},bytesToSize:function(e,t){var n=["B","KB","MB","GB","TB"],r=0;if(e==0)return"n/a";if(e<1024)return Number(e)+" "+n[r];while(e>=1024){r++;e/=1024}return e.toFixed(t||2)+" "+n[r]},disableHTML5FormValidation:function(){$$("form").each(function(e){e.setAttribute("novalidate",!0)})},takeScreenShot:function(e){var t=window.parent,n='<div id="js_loading" style="position:fixed; z-index:10000000; text-align:center; background:#333; border-radius:5px; top: 20px; right: 20px; padding:10px; box-shadow:0 0 5 rgba(0,0,0,0.5);"><img src="'+this.url+'images/loader-black.gif" />'+'<div style="font-family:verdana; font-size:12px;color:#fff;">'+"Please Wait"+"</div></div>";if(this.onprogress){t.$jot(n).appendTo("body");return}t.wishboxCompactLoad&&(this.compact=!0);if(this.screenshot){this.compact?t.$jot(".jt-dimmer").hide():t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide();t.jotformScreenshotURL=this.screenshot.data;this.injectEditor(this.screenshot.data,this.screenshot.shotURL);return}this.scuniq=JotForm.uniqid();this.scID=e;var r=JotForm.getForm($("button_"+this.scID));this.sformID=r.formID.value;this.onprogress=!0;var i=this;this.wishboxServer="http://screenshots.jotform.com/wishbox-server.php";var s=(new Element("form",{action:this.wishboxServer,target:"screen_frame",id:"screen_form",method:"post","accept-charset":"utf-8"})).hide(),o='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >';t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide();t.$jot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"hidden"});var u=t.document.getElementsByTagName("html")[0].innerHTML;u=u.replace(/(<noscript\b[^>]*>.*?<\/noscript>)+/gim,"");u=u.replace(/(<noscript\b[^>]*>(\s+.*\s+)+)+<\/noscript>/gim,"");t.$jot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"visible"});u=u.replace(/(\<\/head\>)/gim,"<style>body,html{ min-height: 800px; }</style>$1");var a=i.ie();a!==undefined&&a<9&&(u=u.replace(/(\<\/head\>)/gim,"<style>*{ border-radius:0 !important; text-shadow:none !important; box-shadow:none !important; }</style>$1"));if(this.passive)t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").show();else{t.$jot(".jotform-feedback-link").show();t.$jot(n).appendTo("body")}var f=new Element("textarea",{name:"html"}),l=this.getCharset(t.document).toLowerCase()!=="utf-8";if(l){f.value=encodeURIComponent(o+u+"</html>");s.insert((new Element("input",{type:"hidden",name:"nozip"})).putValue("1"))}else{s.insert((new Element("input",{type:"hidden",name:"nozip"})).putValue("0"));f.value=encodeURIComponent(t.$jot.jSEND(o+u+"</html>"))}var c=(new Element("input",{type:"hidden",name:"charset"})).putValue(this.getCharset(t.document)),h=(new Element("input",{type:"hidden",name:"height"})).putValue(parseFloat(t.$jot(t).height())),p=(new Element("input",{type:"hidden",name:"scrollTop"})).putValue(t.$jot(t).scrollTop()),d=(new Element("input",{type:"hidden",name:"url"})).putValue(t.location.href),v=(new Element("input",{type:"hidden",name:"uniqID"})).putValue(this.scuniq),m=(new Element("input",{type:"hidden",name:"formID"})).putValue(this.sformID),g=(new Element("input",{type:"hidden",name:"action"})).putValue("getScreenshot"),y=(new Element("iframe",{name:"screen_frame",id:"screen_frame_id"})).hide();y.observe("load",function(){i.checkScreenShot()});t.wishboxInstantLoad&&(a===undefined||a>8)&&this.injectEditor(!1,!1);s.insert(f).insert(h).insert(p).insert(g).insert(v).insert(d).insert(m).insert(c);$(document.body).insert(s).insert(y);s.submit()},checkJSON:function(){if(typeof JSON!="object"){var e=document.createElement("script");e.type="text/javascript";e.src="/js/vendor/json2.js";$(document.body).appendChild(e)}},checkScreenShot:function(){var e=this,t=window.parent,n=10;t.$jot.getJSON("http://screenshots.jotform.com/queue/"+this.scuniq+"?callback=?",function(r){if(r.success===!0)t.$jot.getJSON(r.dataURL+"?callback=?",function(n){if(e.passive===!1){t.jotformScreenshotURL=n.data;e.injectEditor(n.data,n.shotURL)}e.screenshot=n;e.onprogress=!1;$("screen_form")&&$("screen_form").remove();$("screen_frame_id")&&$("screen_frame_id").remove()});else if(r.status!="waiting"&&r.status!="working"||!--n){alert("We are under heavy load right now. Please try again later.");t.$jot(".jt-dimmer, .jotform-feedback-link").show();t.$jot(".jt-feedback").show("slow")}else setTimeout(function(){e.checkScreenShot()},1e3)})},injectEditor:function(e,t){if(this.injected)return;this.injected=!0;var n=this,r=window.parent;r.$jot("#js_loading").remove();r.$jot.getJSON(this.server+"?callback=?",{action:"getScreenEditorTemplate",compact:this.compact},function(i){var s='<iframe allowtransparency="true" id="wishbox-frame" src="" frameborder="0" style="display:none;border:none; ';n.compact?s+="position:absolute;left:0;top:10px;height:"+(r.$jot(r).height()-120)+"px;width:"+(r.$jot(r).width()-100-r.$jot("#js-form-content").width())+"px;":s+="position:fixed;top:0;width:100%;height:100%;left:0;z-index:100000000;";s+='" scrolling="no"></iframe>';var o;r.iframeWidth=r.$jot(r).width()-100-r.$jot("#js-form-content").width();r.iframeHeight=r.$jot(r).height()-120;n.compact?o=r.$jot(s).insertBefore("#js-form-content"):o=r.$jot(s).appendTo("body");n.compact&&r.$jot("#js-form-content").css({"float":"right"});var u=n.ie();if(u!==undefined&&u<9){o.attr("src","http://screenshots.jotform.com/opt/templates/screen_editor.html?shot="+t+"&uniq="+n.scuniq);var a=r.$jot('<button style="color:#fff;font-size:14px;background:#F59202;border:1px solid #Fa98a2;font-weight:bold;position:fixed;top:5px;right:40px;width:100px;z-index:100000001;">Close Editor</button>').appendTo("body");a.click(function(){r.$jot.getJSON("http://screenshots.jotform.com/wishbox-server.php?callback=?",{action:"getImage",uniqID:n.scuniq},function(e){if(!e.success){if(confirm("You haven't save your edits. Are you sure you want to close the editor?")){c();a.remove()}}else{c();a.remove();h(e.data,e.shotURL)}})})}else{var f=o[0],l=f.contentWindow?f.contentWindow:f.contentDocument.document?f.contentDocument.document:f.contentDocument;l.document.open();l.document.write(i.template);setTimeout(function(){l.document.close()},200);r.jotformScreenshotURL=e}var c=function(){if(n.compact){o.remove();r.$jot("#js-form-content").css("width","100%")}else o.hide("slow",function(){o.remove()});n.injected=!1;r.$jot(".jt-dimmer, .jotform-feedback-link").show();r.$jot(".jt-feedback").show("slow")},h=function(e,t){$("screen_"+n.scID).update('<img width="100%" align="center" src="'+(t?t:e)+'" />');$("data_"+n.scID).value=e;$("screen_"+n.scID).up().show()};r.JotformCancelEditor=function(){c()};r.JotformFinishEditing=function(e){c();h(e);n.imageSaved=!0;n.compact&&setTimeout(function(){$(document).fire("image:loaded")},100)}})},populateGet:function(){try{if("FrameBuilder"in window.parent&&"get"in window.parent.FrameBuilder&&window.parent.FrameBuilder.get!=[]){var e={},t=window.parent.FrameBuilder.get;$H(t).each(function(t){if(typeof t[1]=="object")for(prop in t[1])e[t[0]+"["+prop+"]"]=t[1][prop];else e[t[0]]=t[1]});document.get=Object.extend(document.get,e)}}catch(n){}},uniqid:function(e,t){typeof e=="undefined"&&(e="");var n,r=function(e,t){e=parseInt(e,10).toString(16);return t<e.length?e.slice(e.length-t):t>e.length?Array(1+(t-e.length)).join("0")+e:e};this.php_js||(this.php_js={});this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(Math.random()*123456789));this.php_js.uniqidSeed++;n=e;n+=r(parseInt((new Date).getTime()/1e3,10),8);n+=r(this.php_js.uniqidSeed,5);t&&(n+=(Math.random()*10).toFixed(8).toString());return n},initMultipleUploads:function(){var e=this;$$(".form-upload-multiple").each(function(t){var n=t.up("div"),r=JotForm.getForm(t),i=r.formID.value,s=i+"_"+JotForm.uniqueID,o=t.className;if(o.include("validate[required]")){n.className.indexOf("validate[required]")===-1&&n.addClassName("validate[required]");n.validateInput=function(){if(!JotForm.isVisible(n)){JotForm.corrected(n);return!0}if(n.select(".qq-upload-list li").length<1){JotForm.errored(n,JotForm.texts.required);return!1}JotForm.corrected(n);return!0}}if(!this.tempUploadFolderInjected){var u=(new Element("input",{type:"hidden",name:"temp_upload_folder"})).setValue(s);r.insert({top:u});this.tempUploadFolderInjected=!0}var a=(t.readAttribute("data-file-accept")||t.readAttribute("file-accept")||"").strip();a=a!=="*"?a.split(", "):[];var f,l="";(f=t.next())&&f.hasClassName("form-sub-label")&&(l=f.innerHTML);var c,h,p,d;if(c=t.previous(".qq-uploader-buttonText-value"))h=c.innerHTML;h||(h="Upload a File");if(c=t.next(".cancelText"))p=c.innerText;if(c=t.next(".ofText"))d=c.innerText;var v=t.className.split(" "),m="";$A(v).each(function(e){e.indexOf("form-submit-button-")===0&&(m=e)});var g=new qq.FileUploader({debug:JotForm.debug,element:n,action:JotForm.server,subLabel:l,buttonText:h,buttonStyle:m,fileLimit:t.readAttribute("data-file-limit")||t.readAttribute("file-limit"),sizeLimit:parseInt(t.readAttribute("data-file-maxsize")||t.readAttribute("file-maxsize"),10)*1024,minSizeLimit:parseInt(t.readAttribute("data-file-minsize")||t.readAttribute("file-minsize"),10)*1024,allowedExtensions:a,cancelText:p,ofText:d,messages:{typeError:e.texts.multipleFileUploads_typeError,sizeError:e.texts.multipleFileUploads_sizeError,minSizeError:e.texts.multipleFileUploads_minSizeError,emptyError:e.texts.multipleFileUploads_emptyError,onLeave:e.texts.multipleFileUploads_onLeave,fileLimitError:e.texts.multipleFileUploads_fileLimitError},onComplete:function(e,t,r){if(r.success){n.value="uploaded";JotForm.corrected(n)}},showMessage:function(e){JotForm.corrected(n);JotForm.errored(n,e);setTimeout(function(){JotForm.corrected(n)},3e3)},params:{action:"multipleUpload",field:t.name.replace("[]",""),origin:window.location.origin||window.location.protocol+"//"+window.location.hostname,folder:s}})})},initNewMultipleUploads:function(){var e=this;$$(".form-upload-multiple-new").each(function(e){var t=e.up("div"),n=JotForm.getForm(e),r=n.formID.value,i=r+"_"+JotForm.uniqueID,s=e.className;if(s.include("validate[required]")){t.className.indexOf("validate[required]")===-1&&t.addClassName("validate[required]");t.validateInput=function(){if(!JotForm.isVisible(t)){JotForm.corrected(t);return!0}if(t.select(".new-file-list li").length<1){JotForm.errored(t,JotForm.texts.required);return!1}JotForm.corrected(t);return!0}}if(!this.tempUploadFolderInjected){var o=(new Element("input",{type:"hidden",name:"temp_upload_folder"})).setValue(i);n.insert({top:o});this.tempUploadFolderInjected=!0;window.setFolder()}var u=(e.readAttribute("data-file-accept")||e.readAttribute("file-accept")||"").strip();u=u!=="*"?u.split(", "):[];var a,f="";(a=e.next())&&a.hasClassName("form-sub-label")&&(f=a.innerHTML);var l,c;if(l=e.previous(".qq-uploader-buttonText-value"))c=l.innerHTML;c||(c="Upload a File")})},hiddenSubmit:function(e){JotForm.currentSection&&JotForm.currentSection.select(".form-pagebreak")[0].insert((new Element("div",{className:"form-saving-indicator"})).setStyle("float:right;padding:21px 12px 10px").update('<img src="'+JotForm.url+'images/ajax-loader.gif" align="absmiddle" /> Saving...'));setTimeout(function(){JotForm.saving=!0;JotForm.disableButtons()},10);if(!$("hidden_submit_form")){var t=(new Element("iframe",{name:"hidden_submit",id:"hidden_submit_form"})).hide();t.observe("load",function(){JotForm.makeUploadChecks();$$(".form-saving-indicator").invoke("remove");JotForm.saving=!1;JotForm.enableButtons()});$(document.body).insert(t)}$$(".form-radio-other,.form-checkbox-other").each(function(e){!e.checked&&e.next()&&e.next().disable()});$$(".custom-hint-group").each(function(e){e.hideCustomPlaceHolder()});$("current_page").value=JotForm.currentSection.pagesIndex;e.writeAttribute("target","hidden_submit");e.insert({top:(new Element("input",{type:"hidden",name:"hidden_submission",id:"hidden_submission"})).putValue("1")});e.submit();e.writeAttribute("target","");$("hidden_submission").remove();$$(".custom-hint-group").each(function(e){e.showCustomPlaceHolder()});$$(".form-radio-other,.form-checkbox-other").each(function(e){!e.checked&&e.next()&&e.next().enable()})},makeUploadChecks:function(){var e=$$('input[name="formID"]')[0],t=new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"getSavedUploadResults",formID:e.value,sessionID:document.get.session},evalJSON:"force",onComplete:function(t){var n=t.responseJSON;if(n.success){n.submissionID&&!$("submission_id")&&e.insert({after:(new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"})).putValue(n.submissionID)});JotForm.editMode(n,!0)}}})},handleSavedForm:function(){if(!("session"in document.get&&document.get.session.length>0))return;JotForm.saveForm=!0;var e=$$('input[name="formID"]')[0];e.insert({after:(new Element("input",{type:"hidden",name:"session_id",id:"session"})).putValue(document.get.session)});e.insert({after:(new Element("input",{type:"hidden",id:"current_page",name:"current_page"})).putValue(0)});var t=new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"getSavedSubmissionResults",formID:e.value,sessionID:document.get.session,URLparams:window.location.href},evalJSON:"force",onComplete:function(t){var n=t.responseJSON;if(n.success&&n.submissionID){e.insert({after:(new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"})).putValue(n.submissionID)});try{JotForm.editMode(n)}catch(r){console.error(r)}JotForm.openInitially=n.currentPage-1}}})},setTitle:function(){if(document.title=="Form"){var e;if(e=$$(".form-header")[0])try{document.title=e.innerHTML.stripTags().strip();document.title=document.title.unescapeHTML()}catch(t){document.title=e.innerHTML}}},setHTMLClass:function(){var e=this.ie();e&&$$("html")[0].addClassName("ie-"+e)},setFocusEvents:function(){$$(".form-radio, .form-checkbox").each(function(e){e.observe("mousedown",function(){JotForm.lastFocus=e})});$$(".form-textbox, .form-password, .form-textarea, .form-upload, .form-dropdown").each(function(e){e.observe("focus",function(){JotForm.lastFocus=e})})},disableAcceptonChrome:function(){if(!Prototype.Browser.WebKit)return;$$(".form-upload").each(function(e){if(e.hasAttribute("accept")){var t=e.readAttribute("accept");e.writeAttribute("accept","");e.writeAttribute("data-file-accept",t);e.writeAttribute("file-accept",t)}})},populateBrowserInfo:function(e){function s(){return i.android()?"Android":i.windows()?"Windows":i.blackberry()?"Blackberry":i.linux()?"Linux":i.ios()?"iOS":i.mac()&&!i.ios()?"MacOS":"Unknown OS"}function o(){if(i.mobile()){if(i.windowsPhone()||i.androidPhone()||i.blackberry())return"Mobile";if(i.ios())return"iPhone"}else if(i.tablet()){if(i.windowsTablet()||i.androidTablet())return"Tablet";if(i.ios())return"iPad"}else if(i.desktop())return"Desktop";return"Unknown Device"}function u(){return i.ie()?"Internet Explorer":i.firefox()?"Firefox":i.chrome()?"Chrome":i.safari()?"Safari":i.operabrowser()?"Opera":"Unknown Browser"}var t="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",n="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",r="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"",i={chrome:function(){return/chrome|chromium/i.test(t)&&/google inc/.test(n)},firefox:function(){return/firefox/i.test(t)},ie:function(){return/msie/i.test(t)||"ActiveXObject"in window||/edge\//i.test(t)},safari:function(){return/safari/i.test(t)&&/apple computer/i.test(
n)},operabrowser:function(){return t.indexOf("Opera")>-1},iphone:function(){return/iphone/i.test(t)||/iphone/i.test(r)},ipad:function(){return/ipad/i.test(t)||/ipad/i.test(r)},ios:function(){return i.iphone()||i.ipad()},android:function(){return/android/i.test(t)},androidPhone:function(){return i.android()&&/mobile/i.test(t)},androidTablet:function(){return i.android()&&!i.androidPhone()},blackberry:function(){return/blackberry/i.test(t)||/BB10/i.test(t)},linux:function(){return/linux/i.test(r)},mac:function(){return/mac/i.test(r)},windows:function(){return/win/i.test(r)},windowsPhone:function(){return i.windows()&&/phone/i.test(t)},windowsTablet:function(){return i.windows()&&!i.windowsPhone()&&/touch/i.test(t)},mobile:function(){return i.iphone()||i.androidPhone()||i.blackberry()||i.windowsPhone()},tablet:function(){return i.ipad()||i.androidTablet()||i.windowsTablet()},desktop:function(){return!i.mobile()&&!i.tablet()}},a=(new Date).getTimezoneOffset(),f=a<0?"+":"",l="GMT "+f+ -(a/60),c=navigator.language||navigator.browserLanguage||navigator.userLanguage,h=["BROWSER: "+u(),"OS: "+s(),"DEVICE: "+o(),"LANGUAGE: "+c,"RESOLUTION: "+screen.width+"*"+screen.height,"TIMEZONE: "+l,"USER AGENT: "+navigator.userAgent].join("\n");setTimeout(function(){$(e).getValue().length>0&&(h=[$(e).getValue(),h].join("\n"));$(e).setValue(h)},20)},displayTimeRangeDuration:function(e){var t=function(){if($("input_"+e+"_hourSelectRange")){var t=$("input_"+e+"_hourSelect").value,n=$("input_"+e+"_minuteSelect").value,r=$("input_"+e+"_ampm")?$("input_"+e+"_ampm").value:"no",i=$("input_"+e+"_hourSelectRange").value,s=$("input_"+e+"_minuteSelectRange").value,o=$("input_"+e+"_ampmRange")?$("input_"+e+"_ampmRange").value:"no",u=$("input_"+e+"_ampmRange")?"_ampmRange":"_dummy";if(t.length>0&&n.length>0&&i.length>0&&s.length>0){r=="PM"&&t!=12&&(t=parseInt(t)+12);r=="AM"&&t==12&&(t=0);o=="PM"&&i!=12&&(i=parseInt(i)+12);o=="AM"&&i==12&&(i=0);var a=new Date(0,0,0,t,n,0),f=new Date(0,0,0,i,s,0),l=f.getTime()-a.getTime();if(l<0){f=new Date(0,0,1,i,s,0);l=f.getTime()-a.getTime()}var c=Math.floor(l/1e3/60/60);l-=c*1e3*60*60;var h=Math.floor(l/1e3/60);h<10&&(h="0"+h);$$("label[for=input_"+e+u+"]").first().update("<b>Total "+c+":"+h+"</b>");$$("label[for=input_"+e+u+"]").first().setStyle({color:"black"});$$("input[id=duration_"+e+'_ampmRange][type="hidden"]').first().setValue(c+":"+h)}else $$("label[for=input_"+e+u+"]").first().update("&nbsp")}};$("input_"+e+"_hourSelect").observe("change",t);$("input_"+e+"_minuteSelect").observe("change",t);$("input_"+e+"_hourSelectRange").observe("change",t);$("input_"+e+"_minuteSelectRange").observe("change",t);if($("input_"+e+"_ampm")&&$("input_"+e+"_ampmRange")){$("input_"+e+"_ampm").observe("change",t);$("input_"+e+"_ampmRange").observe("change",t)}t()},displayLocalTime:function(e,t,n){if($(e)&&!$(e).hasClassName("noDefault")){var r=new Date,i=r.getHours(),s="",o=!0;if($(n)){o=!1;s=i>11?"PM":"AM";i=i>12?i-12:i;i=i==0?12:i}var u=r.getMinutes(),a=Number($(t).options[2].value)-Number($(t).options[1].value);u=Math.round(u/a)*a;u=this.addZeros(u,2);if(u>=60){u="00";i++;o?i==24&&(i=0):s=="AM"&&i==12?s="PM":s=="PM"&&i==12?s="AM":i==13&&(i=1)}$(e).value=i;$(t).value=u;if($(e+"Range")){$(e+"Range").value=i;$(t+"Range").value=u}if($(n))if(s=="PM"){$(n).select('option[value="PM"]').length>0&&($(n).value="PM");$(n+"Range")&&$(n+"Range").select('option[value="PM"]').length>0&&($(n+"Range").value="PM")}else{$(n).select('option[value="AM"]').length>0&&($(n).value="AM");$(n+"Range")&&$(n+"Range").select('option[value="AM"]').length>0&&($(n+"Range").value="AM")}}},displayDynamicDate:function(e,t){var n=parseInt(t.split("today")[1])||0,r=new Date;r.setDate(r.getDate()+n);JotForm.formatDate({date:r,dateField:$("id_"+e)})},dateLimits:{},setCalendar:function(e,t,n){try{JotForm.dateLimits[e]=n;var r=$("id_"+e),i=Calendar.setup({triggerElement:"input_"+e+"_pick",dateField:"year_"+e,closeHandler:function(){JotForm.calendarClose.apply(this,arguments)},selectHandler:function(){JotForm.formatDate.apply(this,arguments)},startOnMonday:t,limits:n});r.observe("keyup",function(){r.fire("date:changed")});var s=function(){$("month_"+e).value=$("day_"+e).value=$("year_"+e).value=""},o=function(e,t){e.addClassName("invalidDate");s()};if($("lite_mode_"+e)){$("lite_mode_"+e).dateChanged=function(e,t){var n=e.currentTarget,i=n.readAttribute("seperator")||n.readAttribute("data-seperator"),u=(n.readAttribute("format")||n.readAttribute("data-format")).toLowerCase();n.removeClassName("invalidDate");if(n.value==="")return s();if(n.value.length==i.length*2+u.length){var a=u.indexOf("yy"),f=u.indexOf("mm"),l=u.indexOf("dd"),c=new Array(a,f,l);c=c.sort();var h={year:c.indexOf(a),month:c.indexOf(f),day:c.indexOf(l)},p=parseInt(n.value.split(i)[h.year]),d=parseInt(n.value.split(i)[h.month])-1,v=parseInt(n.value.split(i)[h.day]),m=new Date(p,d,v);if(!m||!m.getDate())o(n,t);else{t.date=m;t.selectHandler(t)}}else o(n,t);if(n.hasClassName("invalidDate")){JotForm.errored(n,"Enter a valid date");r.addClassName("form-line-error");r.addClassName("form-datetime-validation-error")}};$("lite_mode_"+e).observe("keyup",function(e){e.stopPropagation();e.currentTarget.dateChanged(e,i);return!1});$("lite_mode_"+e).observe("blur",function(e){e.stopPropagation();e.currentTarget.dateChanged(e,i);e.currentTarget.setAttribute("date-val",i.date.getTime());return!1})}var u=function(){var e=this;setTimeout(function(){i.showAtElement(e)},50)};if($("input_"+e+"_pick").hasClassName("showAutoCalendar")){var a=["#day_"+e,"#month_"+e,"#year_"+e,"#lite_mode_"+e];$$(a.join(",")).each(function(e){e.observe("focus",u);e.observe("click",u)})}$("year_"+e).observe("blur",function(){i.hide()})}catch(f){JotForm.error(f)}},currentDateReadonly:function(){},calendarClose:function(e){var t=$$('input[id*="'+e.dateField.id.match(/[0-9]+/)[0]+'"]'),n=e.dateField.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/),r=t.any(function(e){return e.value.empty()});(n.include("required")||n.include("disallowPast"))&&r&&e.dateField.validateInput();e.hide()},getDefaults:function(){$$(".form-textbox, .form-dropdown, .form-textarea").each(function(e){if(e.hinted||e.value==="")return;JotForm.defaultValues[e.id]=e.value});$$(".form-radio, .form-checkbox").each(function(e){if(!e.checked)return;JotForm.defaultValues[e.id]=e.value})},handleOtherOptions:function(){$$(".form-radio-other-input, .form-checkbox-other-input").each(function(e){e.hint(e.getAttribute("data-otherHint")||"Other")});$$(".form-radio, .form-checkbox").each(function(e){var t=e.id.replace(/input_(\d+)_\d+/gim,"$1");t.match("other_")&&(t=e.id.replace(/other_(\d+)/,"$1"));if($("other_"+t)){var n=$("other_"+t),r=$("input_"+t),i=e.type==="radio"?e:n;r.observe("keyup",function(){n.value=r.value});r.observe("click",function(){$("other_"+t).checked=!0;r.value=r.value===r.getAttribute("data-otherHint")?"":r.value});i.observe("click",function(){n.checked?r.select():r.hintClear&&r.hintClear()})}})},shuffleOptions:function(e){var t=JotForm.calculationType(e);if(t==="radio"||t==="checkbox")try{var n=$("id_"+e).select(".form-"+t+"-item"),r=$("id_"+e).down(".form-"+t+"-other-input")?n.length-1:n.length;for(var i=0;i<r-1;i++){var s=$("id_"+e).select(".form-"+t+"-item")[i],o=Math.floor(Math.random()*r),u=n[o].replace(s),a=$("id_"+e).select(".form-"+t+"-item")[i].next()?$("id_"+e).select(".form-"+t+"-item")[i].next():$("id_"+e).select(".form-"+t+"-item")[i];a.insert({after:u})}if($("id_"+e).down(".form-multiple-column")){var f=$("id_"+e).down(".form-multiple-column").readAttribute("data-columncount");$("id_"+e).select(".form-"+t+"-item").each(function(e,t){e.setStyle({clear:t%f==0?"left":"none"})})}}catch(l){console.log(l)}else if(t==="select")try{var c=$("input_"+e).clone(!0);$("input_"+e).update("");var r=c.length;$("input_"+e).insert(c[0].clone(!0));for(var i=1;i<r;i++){var o=Math.floor(Math.random()*(c.length-1))+1;$("input_"+e).insert(c[o].clone(!0));c[o].remove()}}catch(l){console.log(l)}else if(t==="matrix")try{var h=$("id_"+e).select("tr"),p=h.length;for(var i=1;i<p;i++){var o=Math.floor(Math.random()*(p-1))+1,u=h[o].replace(h[i]),a=h[i].next()?h[i].next():h[i];a.insert({after:u})}}catch(l){console.log(l)}},handleDateTimeChecks:function(){try{$$("[name$=[month]]").each(function(e){var t=e.type!=="tel"&&e.type!=="text",n=t?e.id.replace(new RegExp(".*?([0-9]+).*","gim"),"$1"):e.id.split("month_").last(),r=$("id_"+n);if(!r)return;var i=r.down("[id*=day]"),s=r.down("[id*=year]"),o=r.select("#hour_"+n).first(),u=r.select("#min_"+n).first(),a=r.select("#ampm_"+n).first();e.dateTimeCheck=function(f){var l=null,c=t&&(e.value===""||i.value===""||s.value==="");if(!c&&(e.value!=""||i.value!=""||s.value!="")){var h=t?e.selectedIndex:e.value;h=parseInt(h,10);var p=+i.value,d=+s.value;if(isNaN(d)||d<1)l=s;else if(isNaN(h)||h<1||h>12)l=e;else if(isNaN(p)||p<1)l=i;else switch(h){case 2:if(d%4==0?p>29:p>28)l=i;break;case 4:case 6:case 9:case 11:p>30&&(l=i);break;default:p>31&&(l=i)}}if(!l&&o&&u&&(o.value!=""||u.value!="")&&(!f||!f.target||f.target!==document.activeElement)){var v=o.value.strip()==""?-1:+o.value,m=u.value.strip()==""?-1:+u.value;if(isNaN(v)||(a?v<0||v>12:v<0||v>23))l=o;else if(isNaN(m)||m<0||m>59)l=u}var g=document.activeElement;if(l&&g!=s&&g!=e&&g!=i){if(l===o||l===u){l.errored=!1;JotForm.errored(l,"Enter a valid time")}else{l.errored=!1;var y=JotForm.texts.dateInvalidSeparate.replace("{element}",l.id.replace("_"+n,""));JotForm.errored(l,y)}r.addClassName("form-line-error");r.addClassName("form-datetime-validation-error");return!1}JotForm.corrected(e);JotForm.corrected(i);JotForm.corrected(s);if(o&&u){JotForm.corrected(o);JotForm.corrected(u)}r.removeClassName("form-line-error");r.removeClassName("form-datetime-validation-error");return!0};if(o&&u){o.observe("change",function(t){e.dateTimeCheck(t)});u.observe("change",function(t){e.dateTimeCheck(t)})}})}catch(e){console.error(e)}},handleTextareaLimits:function(){$$(".form-textarea-limit-indicator span").each(function(e){var t=e.id.split("-")[0];if(!$(t))return;var n=e.readAttribute("data-minimum"),r=e.readAttribute("data-limit"),i=$(t),s,o=function(t){if(i.value===""||i.hasClassName("form-custom-hint")){$(e.parentNode).removeClassName("form-textarea-limit-indicator-error");e.update("0/"+(n>-1?n:r));return JotForm.corrected(e)}var o;i.hasClassName("form-textarea")&&i.up("div").down(".nicEdit-main")?o=i.value.stripTags().replace(/&nbsp;/g," "):o=i.value;var u=o.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ");$(e.parentNode).removeClassName("form-textarea-limit-indicator-error");JotForm.corrected(e.up(".form-line").down("textarea"));var a=function(i){var o=i=="min"?e.readAttribute("data-typeMinimum"):e.readAttribute("type");o=="Words"?s=$A(u.split(/\s+/)).without("").length:o=="Letters"&&(s=u.length);var a=!1;if((i=="min"&&s<n||i=="max"&&s>r)&&t!==!0){$(e.parentNode).addClassName("form-textarea-limit-indicator-error");var f=i=="min"?"Min":"",l=i=="min"?n:r,c=o==="Words"?"word":"character",h=JotForm.texts[c+f+"LimitError"]+" "+l;JotForm.errored(e.up(".form-line").down("textarea"),h+".");a=!0}e.update(s+"/"+(n&&s<n&&i=="min"||r==-1?n:r));return a},f=!0;n&&n>0&&(f=!a("min"));r&&r>0&&f&&a("max")};o(!0);i.observe("change",o);i.observe("focus",o);i.observe("keyup",o);if(i.hasClassName("form-textarea")&&i.up("div").down(".nicEdit-main")){var u=i.up("div").down(".nicEdit-main"),a=function(){i.value=u.innerHTML;o()};u.observe("keyup",a);u.observe("blur",function(){setTimeout(a,0)})}})},handleAutoCompletes:function(){$H(JotForm.autoCompletes).each(function(e){var t=$(e.key);t.writeAttribute("autocomplete","off");var n=$(t.parentNode),r=$A(e.value.split("|")),i,s=0,o=0,u=(new Element("div",{className:"form-autocomplete-list"})).setStyle({listStyle:"none",listStylePosition:"outside",position:"absolute",zIndex:"10000"}).hide(),a=function(){var e=t.getDimensions(),n=t.cumulativeOffset();u.setStyle({top:e.height+n[1]+"px",left:n[0]+"px",width:(e.width<1?100:e.width)-2+"px"});u.show()};$(document.body).insert(u);u.close=function(){u.update();u.hide();s=0};t.observe("blur",function(){u.close()});t.observe("keyup",function(e){var n=t.value;if(i==n)return;i=n;u.update();if(!n){u.close();return}var s=t.readAttribute("data-fuzzySearch")=="Yes",f;s?f=r.collect(function(e){if(e.toLowerCase().include(n.toLowerCase()))return e}).compact():f=r.collect(function(e){if(e.toLowerCase().indexOf(n.toLowerCase())==0)return e}).compact();var l=t.readAttribute("data-maxMatches");l>0&&(f=f.slice(0,l));if(f.length>0){f.each(function(e){var r=new Element("li",{className:"form-autocomplete-list-item"}),i=e;r.val=i;try{i=e.replace(new RegExp("("+n+")","gim"),"<b>$1</b>")}catch(s){JotForm.error(s)}r.insert(i);r.onmousedown=function(){t.value=e;u.close()};u.insert(r)});a();o=o||$(u.firstChild).getHeight()+(parseInt($(u.firstChild).getStyle("padding"),10)||0)+(parseInt($(u.firstChild).getStyle("margin"),10)||0);u.setStyle({height:o*(f.length>9?10:f.length)+4+"px",overflow:"auto"})}else u.close()});t.observe("keydown",function(e){var n;if(!u.visible()||!u.firstChild)return;n=u.select(".form-autocomplete-list-item-selected")[0];n&&n.removeClassName("form-autocomplete-list-item-selected");switch(e.keyCode){case Event.KEY_UP:n&&n.previousSibling?$(n.previousSibling).addClassName("form-autocomplete-list-item-selected"):$(u.lastChild).addClassName("form-autocomplete-list-item-selected");if(s<=1)if(n&&n.previousSibling){$(n.previousSibling).scrollIntoView(!0);s=0}else{$(u.lastChild).scrollIntoView(!1);s=10}else s--;break;case Event.KEY_DOWN:n&&n.nextSibling?$(n.nextSibling).addClassName("form-autocomplete-list-item-selected"):$(u.firstChild).addClassName("form-autocomplete-list-item-selected");if(s>=9)if(n&&n.nextSibling){$(n.nextSibling).scrollIntoView(!1);s=10}else{$(u.firstChild).scrollIntoView(!0);s=0}else s++;break;case Event.KEY_ESC:u.close();break;case Event.KEY_TAB:case Event.KEY_RETURN:if(n){t.value=n.val;i=t.value}u.close();e.keyCode==Event.KEY_RETURN&&e.stop();break;default:return}})})},getFileExtension:function(e){return/[.]/.exec(e)?/[^.]+$/.exec(e)[0]:undefined},prePopulations:function(){$H(document.get).each(function(e){var t=e.key.length<3?!0:!1,n=t?'[name$="_'+e.key+'"]':'[name*="_'+e.key+'"]',r='[name$="_'+e.key+'"]',i;i=$$(".form-star-rating"+n)[0];if(i){i.setRating(parseInt(e.value));return}i=$$(".form-slider"+n)[0];if(i){i.setSliderValue(parseInt(e.value));return}if(e.key=="coupon-input"&&$("coupon-input")){$("coupon-input").setValue(e.value);$("coupon-button").triggerEvent("click");return}i=$$(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,r))[0];i||(i=$$(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,n))[0]);if(!i&&e.key.indexOf("[")>0){var s=e.key.substr(0,e.key.lastIndexOf("["));if(s.length>0&&$$("select[name*="+s+"], input[name*="+s+"]").length>0){var o=e.key.substr(e.key.lastIndexOf("[")+1).replace("]","");if($$("select[name*="+s+"], input[name*="+s+"]").length>o){var u=$$("select[name*="+s+"]").length>0?"select":$$("input[name*="+s+"]")[o].type;switch(u){case"select":$$("select[name*="+s+"]")[o].value=e.value.replace(/\+/g," ");break;case"text":case"tel":case"number":$$("input[name*="+s+"]")[o].value=e.value.replace(/\+/g," ");break;case"radio":case"checkbox":try{(e.value=="true"||e.value==1)&&$$("input[name*="+s+"]")[o]&&!($$("input[name*="+s+"]").first().up(".form-line").readAttribute("data-type")==="control_matrix"&&s.indexOf("[")<0)&&$$("input[name*="+s+"]")[o].click()}catch(a){console.log(a)}}}}}if(i&&i.readAttribute("data-type")=="input-grading"){var f=e.value.split(","),l=i.id.substr(0,i.id.lastIndexOf("_")+1);for(var c=0;c<f.length;c++)$(l+c)&&($(l+c).value=f[c])}else if(i&&(i.hasClassName("form-checkbox-other-input")||i.hasClassName("form-radio-other-input")))if(n.indexOf("[other]")>-1){i.value=e.value.replace(/\+/g," ");JotForm.defaultValues[i.id]=i.value}else try{var h=i.up(".form-line").readAttribute("data-type")==="control_checkbox"?e.value.split(","):[e.value];for(var c=0;c<h.length;c++){var p=i.up(".form-input").select('input[type="radio"], input[type="checkbox"]').any(function(e){return h[c]===e.value});if(!p){i.value=h[c];h[c]="other"}}e.value=h.join(",")}catch(a){console.error(a)}else if(i&&i.hasClassName("form-textarea")&&i.up("div").down(".nicEdit-main"))i.up("div").down(".nicEdit-main").update(e.value.replace(/\+/g," "));else if(i&&i.hasClassName("form-dropdown")){var d=e.value.replace(/\+/g," "),v=i.readAttribute("multiple")?d.split(","):[d],m=i.select("option");i.value=v;$A(m).each(function(e){e.writeAttribute("selected",v.include(e.value)?"selected":!1)})}else if(i){i.value=e.value.replace(/\{\+\}/g,"{plusSign}").replace(/\+/g," ").replace(/\{plusSign\}/g,"+");JotForm.defaultValues[i.id]=i.value}try{var g=i?i.up(".form-line"):!1;g&&g.readAttribute("data-type")=="control_datetime"&&g.down('input[id*="lite_mode_"]')&&g.down('input[id*="year_"]').value!=""&&g.down('input[id*="month_"]').value!=""&&g.down('input[id*="day_"]').value!=""&&JotForm.formatDate({date:new Date(g.down('input[id*="year_"]').value,g.down('input[id*="month_"]').value-1,g.down('input[id*="day_"]').value),dateField:g})}catch(a){console.log(a)}$$(".form-textbox%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,n)).each(function(e){e.triggerEvent("keyup")});$$(".form-dropdown%s".replace(/\%s/gim,n)).each(function(e){e.triggerEvent("change")});$$(".form-checkbox%s, .form-radio%s".replace(/\%s/gim,n)).each(function(t){var n=t.disabled?!!t.enable():!1;$A(e.value.split(",")).include(t.value)?t.checked||(n?setTimeout(function(){t.click()}):t.click()):$A(e.value.split(",")).include("other")&&(t.name.indexOf("[other]")>-1||t.id&&t.id.indexOf("other_")>-1)&&t.click();n&&setTimeout(function(){t.disable()})});i&&i.hasClassName("form-textarea")&&i.hasClassName("form-custom-hint")&&i.hasContent&&i.removeClassName("form-custom-hint")})},resetForm:function(e){var t=$(e).select('input[type="hidden"]');t.each(function(e){e.__defaultValue=e.value});$(e).reset();t.each(function(e){e.value=e.__defaultValue});return e},editMode:function(e,t,n){var r="";JotForm.debug||(this.url.search("https")==-1?r="http://cdn.jotfor.ms/":r="https://cdn.jotfor.ms/");if(!window.editModeFunction){var i=this;this.loadScript("/js/form.edit.mode.js?v_"+(new Date).getTime(),function(){i.editMode=editModeFunction;i.editMode(e,t,n)})}else i.editMode(e,t,n)},isEditMode:function(){return typeof window.editModeFunction!="undefined"},setConditions:function(e){e.reverse();JotForm.conditions=e;e.each(function(e){e.action=[].concat(e.action)})},setCalculations:function(e){JotForm.calculations=e},runConditionForId:function(e){$H(JotForm.fieldConditions).each(function(t){var n=t.value.conditions;$A(n).each(function(t){$A(t.terms).each(function(n){n.field===e&&JotForm.checkCondition(t)})})})},otherConditionTrue:function(e,t){t=t.replace(/multiple/,"");var n=!1;$H(JotForm.fieldConditions).each(function(r){var i=r.value.conditions;$A(i).each(function(r){$A(r.action).each(function(r){r.fields&&r.fields.each(function(i){if(i===e&&r.visibility&&r.visibility.toLowerCase().replace(/multiple/,"")===t&&r.hasOwnProperty("currentlyTrue")&&r.currentlyTrue){n=!0;return}});r.field===e&&r.visibility&&r.visibility.toLowerCase()===t&&r.hasOwnProperty("currentlyTrue")&&r.currentlyTrue&&(n=!0)})})});return n},showField:function(e,t){if(JotForm.otherConditionTrue(e,"hide"))return;var n=null,r=$("id_"+e),i=$("cid_"+e),s=$("section_"+e);s&&i?n=s:i&&!r?n=i:n=r;if(!n){var o=$$('input[name*="q'+e+'"][type="hidden"]');o.length>0&&o[0].setAttribute("selected",!0);return n}n.removeClassName("form-field-hidden");n.removeClassName("always-hidden");!n.hasClassName("form-section")&&!n.hasClassName("form-section-closed")&&n.down(".always-hidden")&&n.down(".always-hidden").removeClassName("always-hidden");if(s)if(n.hasClassName("form-section-closed"))if(n.select(".form-collapse-table")[0].hasClassName("form-collapse-hidden")){n.removeClassName("form-section-closed");n.addClassName("form-section");n.setStyle({height:"auto",overflow:"hidden"})}else n.setStyle({overflow:"hidden"});else n.setStyle({height:"auto",overflow:"hidden"});JotForm.getInputType(e)==="html"&&$("text_"+e).innerHTML.match(/google.*maps/gi)&&($("text_"+e).innerHTML=$("text_"+e).innerHTML);var u=n.show();JotForm.getInputType(e)==="widget"?JotForm.showWidget(e):JotForm.getInputType(e)==="signature"&&JotForm.showAndResizeESignature(e);JotForm.getInputType(e)==="collapse"&&s&&!n.hasClassName("form-section-closed")&&n.select("li.form-line").each(function(e,t){var n=e.id.split("_")[1];JotForm.getInputType(n)==="widget"?JotForm.showWidget(n):JotForm.getInputType(n)==="signature"&&JotForm.showAndResizeESignature(n)});return u},showWidget:function(e){var t=document.getElementById("customFieldFrame_"+e)?document.getElementById("customFieldFrame_"+e).src:!1;if(t){var n=navigator.userAgent.indexOf("Firefox")!=-1?getIframeWindow(window.frames["customFieldFrame_"+e]):window.frames["customFieldFrame_"+e];if(n){XD.postMessage(JSON.stringify({type:"show",qid:e}),t,n);typeof window.JCFServerCommon!="undefined"&&JotForm.isVisible(JotForm.getSection($("id_"+e)))&&JotForm.isVisible($("id_"+e))&&window.JCFServerCommon.frames.hasOwnProperty(e)&&window.JCFServerCommon.frames[e].sendReadyMessage(e)}}},showAndResizeESignature:function(e){var t=$("id_"+e);t&&JotForm.isVisible(t)&&t.select(".pad").length>0&&t.select(".pad").first().fire("on:sigresize")},hideField:function(e,t,n){if(JotForm.otherConditionTrue(e,"show"))return;var r="id_";$("cid_"+e)&&!$("id_"+e)&&(r="cid_");$("cid_"+e)&&$("section_"+e)&&(r="section_");var i=$(r+e);if(i){i.addClassName("form-field-hidden");if(JotForm.clearFieldOnHide=="enable"&&!n)try{JotForm.clearField(e)}catch(s){console.log(s)}i.style.setProperty?i.style.setProperty("display","none","important"):i.hide();return i}var o=$$('input[name*="q'+e+'"][type="hidden"]');o.length>0&&o[0].setAttribute("selected",!1)},clearField:function(e,t,n){var r=JotForm.calculationType(e);if(!r)return;var i="input_"+e in JotForm.defaultValues?JotForm.defaultValues["input_"+e]:"";if(r=="collapse"){$("section_"+e).select(".form-line").each(function(e){var t=e.id.replace("id_","");JotForm.clearField(t)});return}if(r==="matrix"&&t&&$(t)){$(t).value="";!n&&$(t).triggerEvent&&$(t).triggerEvent("keyup")}else if(r==="matrix"){$("id_"+e).select('input[type="text"], input[type="tel"]').each(function(e){e.value=e.id in JotForm.defaultValues?JotForm.defaultValues[e.id]:""});$("id_"+e).select('input[type="radio"], input[type="checkbox"]').each(function(e){e.id in JotForm.defaultValues?e.checked=!0:e.checked=!1});$("id_"+e).select("select").each(function(e){e.id in JotForm.defaultValues?e.value=JotForm.defaultValues[e.id]:e.selectedIndex=0});if($("id_"+e).select("input, select").length===0)return;var s=$("id_"+e).select("input, select").first();if(s&&s.triggerEvent){var o;s.nodeName.toLowerCase()==="input"?s.type==="checkbox"||s.type==="radio"?s.up().triggerEvent("click"):s.triggerEvent("keyup"):s.triggerEvent("change")}}else if(["address","combined","datetime","time"].include(r)){$("id_"+e).select("input").each(function(e){e.value=e.id in JotForm.defaultValues?JotForm.defaultValues[e.id]:""});$("id_"+e).select("select").each(function(e){e.id in JotForm.defaultValues?e.value=JotForm.defaultValues[e.id]:e.selectedIndex=0});var u=$("input_"+e)?$("input_"+e):$("id_"+e).select("input").first();u&&u.triggerEvent&&u.triggerEvent("keyup");$("input_"+e+"_full")&&$("input_"+e+"_full").readAttribute("masked")=="true"&&JotForm.setQuestionMasking("#input_"+e+"_full","textMasking",$("input_"+e+"_full").readAttribute("maskValue"))}else if(["braintree","stripe","paypalpro","authnet"].include(r))$("id_"+e).select('input[type="text"], .form-address-country').each(function(e){e.value=e.id in JotForm.defaultValues?JotForm.defaultValues[e.id]:""});else if(r==="html")try{$("id_"+e).select(".replaceTag").each(function(e){var t=e.readAttribute("default");e.update(t)})}catch(a){console.log(a)}else if(r=="textarea"){$("input_"+e).value=i;$("input_"+e).triggerEvent&&!n&&$("input_"+e).triggerEvent("keyup");$("input_"+e).showCustomPlaceHolder&&$("input_"+e).showCustomPlaceHolder();var f=$("id_"+e).down(".nicEdit-main");if(f){f.innerHTML=i;$("input_"+e).hasClassName("custom-hint-group")&&!$("input_"+e).hasContent&&f.setStyle({color:"#babbc0"})}}else if(r=="checkbox"||r=="radio"){$("id_"+e).select('input[type="radio"], input[type="checkbox"]').each(function(e){e.id in JotForm.defaultValues?e.checked=!0:e.checked=!1});$("id_"+e).triggerEvent&&!n&&$("id_"+e).triggerEvent("click")}else if(r=="select")if($("input_"+e)){$("input_"+e).value=i;$("input_"+e).triggerEvent&&!n&&$("input_"+e).triggerEvent("change")}else $("id_"+e).select("select").each(function(e){e.value="";e.triggerEvent&&!n&&e.triggerEvent("change")});else if($("input_"+e)){$("input_"+e).value=i;if($("input_"+e).triggerEvent&&!n)if(r=="widget"){var l=$("input_"+e);l.fire("widget:clear",{qid:parseInt(l.id.split("_")[1])});l.triggerEvent("change")}else $("input_"+e).triggerEvent("keyup");i===""&&$("input_"+e).hintClear&&$("input_"+e).hintClear();$("input_"+e).readAttribute("masked")=="true"&&JotForm.setQuestionMasking("#input_"+e,"textMasking",$("input_"+e).readAttribute("maskValue"));$("input_"+e).hasClassName("form-star-rating")&&$("input_"+e).setRating&&$("input_"+e).setRating(0)}},checkValueByOperator:function(e,t,n){try{typeof t=="string"&&t.indexOf("{")>-1&&t.indexOf("}")>-1&&(t=t.replace(/\{.*?\}/gi,function(e,t,n,r){var i=e.replace(/[\{\}]/g,""),s=$$('input[name$="_'+i+'"]');if(s.length>0){var o=s.first();if(o&&o.value)return o.value}return e}))}catch(r){console.log(r)}var i=Object.isBoolean(n)?n:n.toString().strip().toLowerCase(),s=Object.isBoolean(t)?t:t.toString().strip().toLowerCase();switch(e){case"equals":case"quantityEquals":case"equalDate":return i==s;case"equalDay":return JotForm.getDayOfWeek(i)==s;case"notEquals":case"notEqualDate":case"quantityNotEquals":return i!=s;case"notEqualDay":return JotForm.getDayOfWeek(i)!=s;case"endsWith":return i.endsWith(s);case"notEndsWith":return!i.endsWith(s);case"startsWith":return i.startsWith(s);case"notStartsWith":return!i.startsWith(s);case"contains":condValues=s.split(",");return $A(condValues).any(function(e){return i.include(e.replace(/^\s+|\s+$/g,""))});case"notContains":condValues=s.split(",");return!$A(condValues).any(function(e){return i.include(e.replace(/^\s+|\s+$/g,""))});case"greaterThan":case"quantityGreater":return(parseFloat(i,10)||0)>(parseFloat(s,10)||0);case"lessThan":case"quantityLess":return i.length?(parseFloat(i,10)||0)<(parseFloat(s,10)||0):!1;case"isEmpty":if(Object.isBoolean(i))return!i;return i.empty();case"isFilled":if(Object.isBoolean(i))return i;return!i.empty();case"before":return n<t;case"after":return n>t;default:JotForm.error("Could not find this operator",e)}return!1},getDayOfWeek:function(e){e=new Date(e);var t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];return t[e.getDay()]},typeCache:{},getInputType:function(e){if(JotForm.typeCache[e])return JotForm.typeCache[e];var t=!1;if($("id_"+e)&&$("id_"+e).readAttribute("data-type")=="control_text")t="html";else if($("input_"+e)){t=$("input_"+e).nodeName.toLowerCase()=="input"?$("input_"+e).readAttribute("type").toLowerCase():$("input_"+e).nodeName.toLowerCase();$("input_"+e).hasClassName("form-radio-other-input")&&(t="radio");$("input_"+e).hasClassName("form-checkbox-other-input")&&(t="checkbox");$("input_"+e).hasClassName("form-autocomplete")&&(t="autocomplete");$("input_"+e).hasClassName("form-slider")&&(t="slider");$("input_"+e).hasClassName("form-widget")&&(t="widget");$("input_"+e).hasClassName("form-star-rating")&&(t="rating")}else if($("input_"+e+"_pick")||$("id_"+e)&&$("id_"+e).readAttribute("data-type")=="control_datetime")t="datetime";else if($("input_"+e+"_month"))t="birthdate";else if($("input_"+e+"_hourSelect"))t="time";else{if($("cid_"+e)&&$("cid_"+e).getAttribute("data-type")=="control_collapse")return"collapse";if($$("#id_"+e+" .form-product-item").length>0)t=$$("#id_"+e+" .form-product-item")[0].select("input")[0].readAttribute("type").toLowerCase();else if($$("#id_"+e+" .form-address-table").length>0)t="address";else if($$("input[id^=input_"+e+"_]")[0]&&$$("input[id^=input_"+e+"_]")[0].hasClassName("form-grading-input"))t="grading";else if($$("#id_"+e+" .pad").length>0)t="signature";else if($$("#id_"+e+" input")[0]){t=$$("#id_"+e+" input")[0].readAttribute("type").toLowerCase();if(t=="text"||t=="tel"||t==="number")t="combined"}else $$("#id_"+e+" select")[0]&&(t="select")}JotForm.typeCache[e]=t;return t},strToDate:function(e){var t=new Date(undefined),n=/(\d{4})\-(\d{2})-(\d{2})T?(\d{2})?\:?(\d{2})?/gim;if(e.empty())return t;if(!n.test(e))return t;var r=new Date;e.replace(n,function(e,t,n,i,s,o){s?r=new Date(parseInt(t,10),parseInt(n,10)-1,parseInt(i,10),parseInt(s,10),parseInt(o,10)):r=new Date(parseInt(t,10),parseInt(n,10)-1,parseInt(i,10));return e});return r},getBirthDate:function(e){var t=$("input_"+e+"_day").getValue()||"%empty%",n=$("input_"+e+"_month").selectedIndex||"%empty%";n=String(n);var r=$("input_"+e+"_year").getValue()||"%empty%",i=r+"-"+(n.length==1?"0"+n:n)+"-"+(t.length==1?"0"+t:t);return i.include("%empty%")?"":i},get24HourTime:function(e){var t=$("input_"+e+"_hourSelect").getValue();if(t=="")return"";var n=$("input_"+e+"_minuteSelect").getValue();n.length==0&&(n="00");var r=$("input_"+e+"_ampm")?$("input_"+e+"_ampm").getValue():"";t=Number(t);r=="PM"&&t!=12?t+=12:r=="AM"&&t==12&&(t=0);t=t<10?"0"+t:String(t);return t+n},getDateValue:function(e){var t="";$("year_"+e)&&(t+=$("year_"+e).value||"%empty%");if($("month_"+e)){var n=$("month_"+e).value?$("month_"+e).value.length>1?$("month_"+e).value:"0"+$("month_"+e).value:"%empty%";t+="-"+n}if($("day_"+e)){var r=$("day_"+e).value?$("day_"+e).value.length>1?$("day_"+e).value:"0"+$("day_"+e).value:"%empty%";t+="-"+r}if(t.include("%empty%")){JotForm.info("Wrong date: "+t);return""}var i="";if($("ampm_"+e)){if($("hour_"+e)){i=$("hour_"+e).value;$("ampm_"+e).value=="pm"&&(i=parseInt(i,10)+12);i=="24"&&(i=0);t+="T"+((i.length==1?"0"+i:i)||"00")}}else if($("hour_"+e)){i=$("hour_"+e).value;t+="T"+((i.length==1?"0"+i:i)||"00")}$("min_"+e)&&(t+=":"+($("min_"+e).value||"00"));i===""&&(t+="T00:00");return t},hidePages:{},checkCondition:function(e){var t=!1,n=!0,r;$A(e.terms).each(function(e){var i;try{var s=JotForm.getInputType(e.field);switch(s){case"combined":if(["isEmpty","isFilled"].include(e.operator)){r=$$("#id_"+e.field+" input").collect(function(e){return e.value}).any();JotForm.checkValueByOperator(e.operator,e.value,r)?t=!0:n=!1;return}i=$$("#id_"+e.field+" input").collect(function(e){return e.value});JotForm.checkValueByOperator(e.operator,e.value,i)?t=!0:n=!1;break;case"address":if(["isEmpty","isFilled"].include(e.operator)){r=$$("#id_"+e.field+" input").collect(function(e){return e.value}).any();JotForm.checkValueByOperator(e.operator,e.value,r)?t=!0:n=!1}else{var o;$("input_"+e.field+"_country").select("option").each(function(t){if(e.value===t.value){o=t;throw $break}});e.operator=="equalCountry"?o.selected?t=!0:n=!1:e.operator=="notEqualCountry"&&(o.selected?n=!1:t=!0)}break;case"birthdate":case"datetime":i=s=="datetime"?JotForm.getDateValue(e.field):JotForm.getBirthDate(e.field);if(i===undefined)return;if(["isEmpty","isFilled"].include(e.operator))JotForm.checkValueByOperator(e.operator,e.value,i)?t=!0:n=!1;else{var u=e.value;u=e.value.toLowerCase().replace(/\s/g,"");if(u.indexOf("today")>-1){var a=parseInt(u.split("today")[1])||0,f=new Date;f.setDate(f.getDate()+a);var l=f.getFullYear(),c=f.getMonth()+1;c=c<10?"0"+c:c;var h=f.getDate();h=h<10?"0"+h:h;u=l+"-"+c+"-"+h}["equalDate","notEqualDate","after"].include(e.operator)?JotForm.checkValueByOperator(e.operator,JotForm.strToDate(u),JotForm.strToDate(i.split("T")[0]))?t=!0:n=!1:["equalDay","notEqualDay"].include(e.operator)?JotForm.checkValueByOperator(e.operator,u,JotForm.strToDate(i))?t=!0:n=!1:JotForm.checkValueByOperator(e.operator,JotForm.strToDate(u),JotForm.strToDate(i))?t=!0:n=!1}break;case"time":i=JotForm.get24HourTime(e.field);var u=e.value?e.value.replace(/:/,""):"";u.length==3&&(u="0"+u);e.operator=="before"&&i.empty()?n=!1:JotForm.checkValueByOperator(e.operator,u,i)?t=!0:n=!1;break;case"checkbox":case"radio":if(["isEmpty","isFilled"].include(e.operator)){r=$$("#id_"+e.field+" input").collect(function(e){return e.checked}).any();JotForm.checkValueByOperator(e.operator,e.value,r)?t=!0:n=!1;return}e.value&&(e.value=e.value.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<"));if(["lessThan","greaterThan"].include(e.operator)){var p=!1;$$("#id_"+e.field+" input").each(function(
n){i=n.checked?n.value:"";if(JotForm.checkValueByOperator(e.operator,e.value,i)){t=!0;p=!0}});p||(n=!1);return}var d=$("id_"+e.field).down(".form-"+s+"-other-input")?$("id_"+e.field).down(".form-"+s+"-other-input").getAttribute("data-otherHint"):"";$$("#id_"+e.field+" input").each(function(r){if(r.hasClassName("form-"+s+"-other")&&r.checked)i="-- "+d+" --";else{i=r.checked?r.value:"";i=i.replace(/_expanded/,"")}var o=e.value.strip();if(JotForm.checkValueByOperator(e.operator,o,i))t=!0;else{if(e.operator=="notEquals"&&o==i){t=!1;n=!1;throw $break}if(r.value==o||r.hasClassName("form-"+s+"-other")&&o=="-- "+d+" --")n=!1}});break;case"select":e.value&&(e.value=e.value.replace(/&amp;/g,"&"));if($("input_"+e.field)&&$("input_"+e.field).multiple){if(e.operator=="equals"){var o=$("input_"+e.field).select("option[value="+e.value+"]");o.length>0&&o[0].selected?t=!0:n=!1}else if(e.operator=="notEquals"){var o=$("input_"+e.field).select("option[value="+e.value+"]");o.length>0&&!o[0].selected?t=!0:n=!1}else if(["isEmpty","isFilled"].include(e.operator)){var v=!1,m=$("input_"+e.field).options;for(var g=0;g<m.length;g++)!m[g].value.empty()&&m[g].selected==1&&(v=!0);e.operator=="isEmpty"&&(v?n=!1:t=!0);e.operator=="isFilled"&&(v?t=!0:n=!1)}}else if($("input_"+e.field)){i=$("input_"+e.field).value;if(i===undefined)return;JotForm.checkValueByOperator(e.operator,e.value,i)?t=!0:n=!1}else{r=$$("#id_"+e.field+" select").collect(function(e){return e.value}).any();JotForm.checkValueByOperator(e.operator,e.value,r)?t=!0:n=!1}break;case"grading":if(["isEmpty","isFilled"].include(e.operator)){r=$$("input[id^=input_"+e.field+"_]").collect(function(e){return e.value}).any();JotForm.checkValueByOperator(e.operator,e.value,r)?t=!0:n=!1}else{i=$("grade_point_"+e.field).innerHTML.stripTags();JotForm.checkValueByOperator(e.operator,e.value,i)?t=!0:n=!1}break;case"file":$("id_"+e.field).select(".qq-uploader").length>0?i=$("id_"+e.field).select(".qq-upload-file").length>0:$("input_"+e.field).uploadMarked?i=$("input_"+e.field).uploadMarked:i=$("input_"+e.field).value;if(i===undefined)return;JotForm.checkValueByOperator(e.operator,e.value,i,e.field)?t=!0:n=!1;break;case"textarea":i=$("input_"+e.field).value;if($("input_"+e.field).hinted||$("input_"+e.field).hasClassName("form-custom-hint"))i="";if(i===undefined)return;var y=$("id_"+e.field).down(".nicEdit-main");y&&(i=i.stripTags().replace(/\s/g," ").replace(/&nbsp;/g," "));JotForm.checkValueByOperator(e.operator,e.value,i,e.field)?t=!0:n=!1;break;case"widget":i=$("input_"+e.field).value;if(i===undefined)return;if(i.indexOf("widget_metadata")>-1)try{i=JSON.parse(i).widget_metadata.value;var b=!1;for(var g=0;g<i.length;g++){var w=i[g];for(var E in w)if(JotForm.checkValueByOperator(e.operator,e.value,w[E],e.field)){t=!0;b=!0}}b||(n=!1)}catch(S){console.log(S)}else{i=e.operator!=="greaterThan"&&e.operator!=="lessThan"||typeof i!="string"?i:i.replace(/,/g,"");JotForm.checkValueByOperator(e.operator,e.value,i,e.field)?t=!0:n=!1}break;case"hidden":$("input_"+e.field+"_donation")?i=$("input_"+e.field+"_donation").value:i=$("input_"+e.field).value;JotForm.checkValueByOperator(e.operator,e.value,i,e.field)?t=!0:n=!1;break;case"rating":i=$("input_"+e.field).value||"";JotForm.checkValueByOperator(e.operator,e.value,i,e.field)?t=!0:n=!1;break;default:if(!$("input_"+e.field))return;i=$("input_"+e.field).value;$("input_"+e.field).hinted&&(i="");if(i===undefined)return;JotForm.checkValueByOperator(e.operator,e.value,i,e.field)?t=!0:n=!1}}catch(S){JotForm.error(S)}});if(e.type=="field"){var i=e.link.toLowerCase()=="any"&&t||e.link.toLowerCase()=="all"&&n;e.action.each(function(t){var n=e.terms.any(function(e){return e.field==t.field});if(i){t.currentlyTrue=!0;t.visibility.toLowerCase()=="show"?JotForm.showField(t.field):t.visibility.toLowerCase()=="hide"?JotForm.hideField(t.field,!1,n):t.visibility.toLowerCase()=="showmultiple"&&t.fields?t.fields.each(function(e){JotForm.showField(e,!0)}):t.visibility.toLowerCase()=="hidemultiple"&&t.fields&&t.fields.each(function(e){JotForm.hideField(e,!0,n)})}else{t.currentlyTrue=!1;t.visibility.toLowerCase()=="show"?JotForm.hideField(t.field,!1,n):t.visibility.toLowerCase()=="hide"?JotForm.showField(t.field):t.visibility.toLowerCase()=="showmultiple"&&t.fields?t.fields.each(function(e){JotForm.hideField(e,!0,n)}):t.visibility.toLowerCase()=="hidemultiple"&&t.fields&&t.fields.each(function(e){JotForm.showField(e,!0)})}JotForm.iframeHeightCaller();$("section_"+t.field)&&JotForm.runAllCalculations(!0);$("input_"+t.field)&&$("input_"+t.field).triggerEvent&&(n||$("input_"+t.field).triggerEvent("keyup"))})}else if(e.type=="require"){var i=e.link.toLowerCase()=="any"&&t||e.link.toLowerCase()=="all"&&n;e.action.each(function(e){e.currentlyTrue=i;e.visibility.toLowerCase()=="require"?JotForm.requireField(e.field,i):e.visibility.toLowerCase()=="unrequire"?JotForm.requireField(e.field,!i):e.visibility.toLowerCase()=="requiremultiple"&&e.fields?e.fields.each(function(e){JotForm.requireField(e,i)}):e.visibility.toLowerCase()=="unrequiremultiple"&&e.fields?e.fields.each(function(e){JotForm.requireField(e,!i)}):e.visibility.toLowerCase()=="enable"?JotForm.enableDisableField(e.field,i):e.visibility.toLowerCase()=="disable"&&JotForm.enableDisableField(e.field,!i)})}else if(e.type=="mask")e.action.each(function(r){if(e.link.toLowerCase()=="any"&&t||e.link.toLowerCase()=="all"&&n){e.conditionTrue=!0;JotForm.setQuestionMasking("#input_"+r.field,"textMasking",r.mask);$("input_"+r.field).writeAttribute("masked","true")}else{e.conditionTrue=!1;var i=!0;$A(JotForm.conditions).each(function(e){if(e.disabled==1)return;if(e.type!=="mask")return;if(!e.conditionTrue)return;$A(e.action).each(function(e){e.field==r.field&&(i=!1)})});if(i){JotForm.setQuestionMasking("#input_"+r.field,"","",!0);$("input_"+r.field).writeAttribute("masked","false")}}});else if(e.type=="calculation"){if(!$("id_"+e.action[0].resultField))return;var s=JotForm.calculations,o=null;for(var u=0;u<s.length;u++)s[u].conditionId===e.id&&(calc=s[u]);if(e.link.toLowerCase()=="any"&&t||e.link.toLowerCase()=="all"&&n){calc.conditionTrue=!0;if(JotForm.ignoreInsertionCondition)return;JotForm.checkCalculation(calc)}else{calc.conditionTrue=!1;if(JotForm.ignoreInsertionCondition)return;setTimeout(function(t){var n={},r;for(var i=0;i<s.length;i++)if(e.action[0].resultField==s[i].resultField&&s[i].hasOwnProperty("conditionTrue")&&s[i].conditionTrue&&(JotForm.getInputType(e.action[0].resultField)!=="html"||e.action[0].replaceText===s[i].replaceText)){r=s[i].resultSubField||"";n[s[i].resultField+r]=!0}r="resultSubField"in e.action[0]?e.action[0].resultSubField:"";if(!n[e.action[0].resultField+r])try{var o=e.terms.map(function(t){return t.field===e.action[0].resultField}).any();o||(o=e.action[0].operands&&e.action[0].operands.split(",").include(e.action[0].resultField));JotForm.clearField(e.action[0].resultField,r,o)}catch(u){console.log(u)}},50,calc)}}else{if($A(e.action).length>0&&e.action.first().skipHide==="hidePage"){var a=e.action.first();e.link.toLowerCase()=="any"&&t||e.link.toLowerCase()=="all"&&n?JotForm.hidePages[parseInt(a.skipTo.replace("page-",""),10)]=!0:JotForm.hidePages[parseInt(a.skipTo.replace("page-",""),10)]=!1;return}if(JotForm.nextPage)return;if(e.link.toLowerCase()=="any"&&t||e.link.toLowerCase()=="all"&&n){var a=e.action[0],f=$$(".page-section");a.skipTo=="end"?JotForm.nextPage=f[f.length-1]:JotForm.nextPage=f[parseInt(a.skipTo.replace("page-",""),10)-1]}else{JotForm.info("Fail: Skip To: page-"+JotForm.currentPage+1);JotForm.nextPage=!1}}JotForm.enableDisableButtonsInMultiForms()},currentPage:!1,nextPage:!1,previousPage:!1,fieldConditions:{},setFieldConditions:function(e,t,n){JotForm.fieldConditions[e]||(JotForm.fieldConditions[e]={event:t,conditions:[]});JotForm.fieldConditions[e].conditions.push(n)},widgetsAsCalculationOperands:[],requireField:function(e,t){if(!$("id_"+e))return;if(JotForm.otherConditionTrue(e,t?"unrequire":"require"))return;$$("#id_"+e+" input, #id_"+e+" textarea, #id_"+e+" select").each(function(n){if(n.id==="coupon-input"||n.type==="hidden"&&!n.up(".form-star-rating")&&!n.hasClassName("form-widget")||n.hasClassName("form-checkbox-other-input")||n.hasClassName("form-radio-other-input")||$A(["prefix","middle","suffix","addr_line2"]).any(function(e){return n.name.indexOf("["+e+"]")>-1}))return;var r=[];if(n.className.indexOf("validate[")>-1){r=n.className.substr(n.className.indexOf("validate[")+9);r=r.substr(0,r.indexOf("]")).split(/\s*,\s*/)}else r=[];if(JotForm.getInputType(e)=="file"&&n.getAttribute("multiple")=="multiple"&&n.up(".jf-required")){n.up(".jf-required").className=n.up(".jf-required").className.replace(/validate\[required\]/gi,"");t?n.up(".jf-required").addClassName("validate[required]"):n.up(".jf-required").removeClassName("form-validation-error")}n.className=n.className.replace(/validate\[.*\]/,"");for(var i=r.length-1;i>=0;i--)r[i]==="required"&&r.splice(i,1);if(t){r.push("required");n.hasClassName("form-widget")&&n.addClassName("widget-required")}else{n.removeClassName("form-validation-error");n.removeClassName("widget-required")}r.length>0&&n.addClassName("validate["+r.join(",")+"]");JotForm.setFieldValidation(n)});if(t)$("label_"+e)&&!$("label_"+e).down(".form-required")&&$("label_"+e).insert('<span class="form-required">*</span>');else{$("label_"+e)&&$("label_"+e).down(".form-required")&&$("label_"+e).down(".form-required").remove();$("id_"+e).down(".form-error-message")&&$("id_"+e).down(".form-error-message").remove();$("id_"+e).removeClassName("form-line-error");$$(".form-line-error").length==0&&JotForm.hideButtonMessage()}},enableDisableField:function(e,t){if(!$("id_"+e))return;try{$("id_"+e).select("input, textarea, select, button").each(function(e){if(t){e.removeClassName("conditionallyDisabled");e.enable()}else{e.addClassName("conditionallyDisabled");e.disable()}})}catch(n){console.log(n)}},triggerWidgetCalculation:function(e){if(JotForm.widgetsAsCalculationOperands.include(e))if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0);$("input_"+e).dispatchEvent(t)}else if($("input_"+e).fireEvent)return $("input_"+e).fireEvent("onchange")},setCalculationResultReadOnly:function(){$A(JotForm.calculations).each(function(e,t){e.readOnly&&$("input_"+e.resultField)!=null&&$("input_"+e.resultField).setAttribute("readOnly","true")})},setCalculationEvents:function(){var e=function(e,t,n){$(e).observe(t,function(){if(t==="paste")setTimeout(function(){e.addClassName("calculatedOperand");JotForm.checkCalculation(n)},10);else{e.addClassName("calculatedOperand");JotForm.checkCalculation(n)}})};$A(JotForm.calculations).each(function(t,n){if(!t.operands)return;var r=t.operands.split(",");for(var i=0;i<r.length;i++){var s=r[i];if(!s||s.empty()||!$("id_"+s))continue;var o=JotForm.calculationType(s),u;switch(o){case"widget":e($("id_"+s),"change",t);JotForm.widgetsAsCalculationOperands.push(s);break;case"radio":case"checkbox":e($("id_"+s),"click",t);$("input_"+s)&&e($("id_"+s),"keyup",t);break;case"select":case"file":Protoplus&&Protoplus.getIEVersion&&Protoplus.getIEVersion()==8?e($("id_"+s),"click",t):e($("id_"+s),"change",t);break;case"datetime":e($("id_"+s),"date:changed",t);$$("#id_"+s+" select").each(function(n){e($(n),"change",t)});break;case"time":case"birthdate":$$("#id_"+s+" select").each(function(r){e($(r),"change",t,n)});break;case"address":e($("id_"+s),"change",t,n);e($("id_"+s),"blur",t,n);e($("id_"+s),"keyup",t,n);$$("#id_"+s+" select").each(function(r){e($(r),"change",t,n)});break;case"number":e($("id_"+s),"keyup",t,n);e($("id_"+s),"paste",t,n);e($("id_"+s),"click",t,n);break;default:e($("id_"+s),"change",t,n);e($("id_"+s),"blur",t,n);e($("id_"+s),"keyup",t,n);e($("id_"+s),"paste",t,n)}}})},runAllCalculations:function(e,t){$A(JotForm.calculations).each(function(n,r){if(t&&JotForm.getInputType(n.resultField)!=="html")return;(!e||!!n.readOnly)&&!!n.equation&&JotForm.checkCalculation(n)})},calculationType:function(e){var t=["control_stripe","control_paymill","control_payment","control_paypal","control_paypalexpress","control_paypalpro","control_clickbank","control_2co","control_googleco","control_worldpay","control_onebip","control_authnet","control_dwolla","control_braintree","control_square","control_boxpayment"];return $("id_"+e)&&$("id_"+e).readAttribute("data-type")&&t.include($("id_"+e).readAttribute("data-type"))?$("id_"+e).readAttribute("data-type").replace("control_",""):$("id_"+e)&&$("id_"+e).readAttribute("data-type")=="control_matrix"?"matrix":JotForm.getInputType(e)},checkCalculation:function(e){if(e.hasOwnProperty("conditionTrue")&&!e.conditionTrue)return"";var t=e.resultField,n=e.showBeforeInput,r=e.ignoreHiddenFields,i=e.useCommasForDecimals;if(!$("id_"+t))return;try{if(!["text","email","textarea","calculation","combined","address","datetime","time","html","authnet","paypalpro","number","radio","checkbox","select","matrix","braintree","stripe","square"].include(JotForm.calculationType(t)))return}catch(s){console.log(s)}var o={},u=function(s,u){var a="";if(s.indexOf("_")>-1){a=s.substring(s.indexOf("_"));s=s.substring(0,s.indexOf("_"))}if(!$("id_"+s))return"";if(!$("id_"+s).hasClassName("calculatedOperand")&&n)return"";if(r&&($("id_"+s).hasClassName("form-field-hidden")||$("id_"+s).up(".form-section")&&$("id_"+s).up(".form-section").hasClassName("form-field-hidden")))return u?0:"";var f=JotForm.calculationType(s),l="";switch(f){case"matrix":if($("id_"+s).down(".form-radio"))$$('input[id^="input_'+s+a+'_"]').each(function(e){e.checked&&(l=e.readAttribute("data-calcvalue")?e.readAttribute("data-calcvalue"):e.value)});else if($("input_"+s+a))if($("input_"+s+a).type=="checkbox"){if($("input_"+s+a).checked){var c=$("input_"+s+a);c.readAttribute("data-calcvalue")?l=c.readAttribute("data-calcvalue"):l=c.value}}else l=$("input_"+s+a).value;break;case"stripe":case"paymill":case"payment":case"paypal":case"paypalexpress":case"paypalpro":case"clickbank":case"2co":case"googleco":case"worldpay":case"onebip":case"authnet":case"dwolla":case"braintree":case"square":$("id_"+s).down("#payment_total")?l=$("id_"+s).down("#payment_total").innerHTML:$("input_"+s+"_donation")&&(l=$("input_"+s+"_donation").value);JotForm.currencyFormat&&JotForm.currencyFormat.dSeparator===","&&(l=l.replace(/\./g,"").replace(/\,/g,"."));break;case"radio":$$("#id_"+s+' input[type="radio"]').each(function(e,t){e.checked&&(e.readAttribute("data-calcvalue")?l=e.readAttribute("data-calcvalue"):typeof FormTranslation!="undefined"&&e.next()?l=e.next().innerHTML:l=e.value)});break;case"checkbox":var h=[];$$("#id_"+s+' input[type="checkbox"]').each(function(e,t){e.checked&&(e.readAttribute("data-calcvalue")?h.push(e.readAttribute("data-calcvalue")):typeof FormTranslation!="undefined"&&e.next()?h.push(e.next().innerHTML):h.push(e.value))});u?l=h.inject(0,function(e,t){return e+(parseFloat(t.replace(/-?([^0-9])/g,"$1").replace(/[^0-9\.-]/g,""))||0)}):l=h.join();break;case"select":if($("input_"+s).readAttribute("multiple")==="multiple"||$("input_"+s).readAttribute("multiple")===""){u&&(l=0);$("input_"+s).select("option").each(function(e,t){var e=$("input_"+s).options[t];if(e&&e.selected){var n=e.readAttribute("data-calcvalue")?e.readAttribute("data-calcvalue"):e.innerHTML.trim();u?l+=n===""?0:parseFloat(n.replace(/[^0-9.]/g,"")):l+=n}})}else{var p=$("input_"+s).options[$("input_"+s).selectedIndex];p&&(l=p.readAttribute("data-calcvalue")?p.readAttribute("data-calcvalue"):p.innerHTML.trim())}break;case"number":if($$("#id_"+s+' input[type="number"]').length>1){var h=[];$$("#id_"+s+' input[type="number"]').each(function(e){h.push(e.value)});l=h.join(" ")}else!$("input_"+s).value.empty()&&!isNaN($("input_"+s).value)&&(l=parseFloat($("input_"+s).value));break;case"combined":case"grading":var h=[];o={};$$("#id_"+s+' input[type="text"]').each(function(e){e.value.empty()||h.push(e.value);var t=e.id.replace(/_.*/,"");o[t]=e.value});$$("#id_"+s+' input[type="tel"]').each(function(e){e.value.empty()||h.push(e.value);var t=e.id.replace(/input_[0-9].*_+/,"");o[t]=e.value});l=h.join(" ");break;case"datetime":var h=[];if(u){h.push($("month_"+s).value);h.push($("day_"+s).value);h.push($("year_"+s).value)}else{$$("#id_"+s+' input[type="tel"]').each(function(e){h.push(e.value);var t=e.id.replace(/_.*/,"");o[t]=e.value});$$("#id_"+s+" select").each(function(e){var t=e.id.replace(/_.*/,"");o[t]=e.value})}$$("#id_"+s+" select").each(function(e){h.push(e.value)});if(u)if(!h[0].empty()&&!h[1].empty()&&!h[2].empty()){var d=y=w="";if(h.length>4&&!h[3].empty()&&!h[4].empty()){d=parseInt(h[3]);if(h.length==6&&!h[5].empty()){w=h[5];w=="PM"&&d!=12?d+=12:w=="AM"&&d==12&&(d=0)}y=h[4]}var v=Date.UTC(h[2],h[0]-1,h[1],d,y);l=v/60/60/24/1e3}else l=0;else{h.length>2&&!h[0].empty()&&!h[1].empty()&&!h[0].empty()&&(l=h[0]+"/"+h[1]+"/"+h[2]);if(h.length>4&&!h[3].empty()&&!h[4].empty()){l+=" "+h[3]+":"+h[4];h.length==6&&!h[5].empty()&&(l+=" "+h[5])}}break;case"time":if(a=="_duration"){if($("duration_"+s+"_ampmRange"))if(u){var m=$("duration_"+s+"_ampmRange").value;if(m.indexOf(":")>-1){var g=m.split(":"),d=g[0]||0,y=g[1]||0,v=Date.UTC("1970","0","1",d,y);l=v/60/60/1e3}}else l=$("duration_"+s+"_ampmRange").value;break}var h=[];o={};if(u){$$("#id_"+s+" select").each(function(e){h.push(e.value)});var b,y,w="";d=parseInt(h[0])||0;if(h.length==3&&!h[2].empty()){w=h[2];w=="PM"&&d!=12?d+=12:w=="AM"&&d==12&&(d=0)}y=h[1];var v=Date.UTC("1970","0","1",d,y);l=v/60/60/1e3}else{if($("input_"+s+"_hourSelect")&&!$("input_"+s+"_hourSelect").value.empty()&&$("input_"+s+"_minuteSelect")&&!$("input_"+s+"_minuteSelect").value.empty()){l=$("input_"+s+"_hourSelect").value+":"+$("input_"+s+"_minuteSelect").value;$("input_"+s+"_ampm")&&(l+=" "+$("input_"+s+"_ampm").value)}if($("input_"+s+"_hourSelectRange")&&!$("input_"+s+"_hourSelectRange").value.empty()&&$("input_"+s+"_minuteSelectRange")&&!$("input_"+s+"_minuteSelectRange").value.empty()){l+=" - "+$("input_"+s+"_hourSelectRange").value+":"+$("input_"+s+"_minuteSelectRange").value;$("input_"+s+"_ampmRange")&&(l+=" "+$("input_"+s+"_ampmRange").value);$("duration_"+s+"_ampmRange")&&!$("duration_"+s+"_ampmRange").value.empty()&&(l+=" ("+$("duration_"+s+"_ampmRange").value+")")}$$("#id_"+s+" select").each(function(e){var t=e.id.replace(/.*_.*_/,"");o[t]=e.value})}break;case"birthdate":var h=[];if(u)try{var E=["January","February","March","April","May","June","July","August","September","October","November","December"],S=E.indexOf($("input_"+s+"_month").value),x=$("input_"+s+"_day").value,T=$("input_"+s+"_year").value,v=(new Date(T,S,x)).getTime();l=v/60/60/24/1e3}catch(N){console.log("birthdate error");console.log(N)}else{$$("#id_"+s+" select").each(function(e){h.push(e.value)});!h[0].empty()&&!h[1].empty()&&!h[2].empty()&&(l=h[0]+" "+h[1]+" "+h[2])}break;case"address":var h=[];o={};$$("#id_"+s+' input[type="text"]').each(function(e){e.value.empty()||h.push(e.value);var t=e.id.replace(/input_[0-9].*?_+/,"");o[t]=e.value});$$("#id_"+s+" select").each(function(e){e.value.empty()||h.push(e.value);var t=e.id.replace(/input_[0-9].*_+/,"");o[t]=e.value});l=h.join(", ");break;case"file":l=$("input_"+s).value;l=l.substring(l.lastIndexOf("\\")+1);break;case"textarea":if($("input_"+s)&&typeof $("input_"+s).value!="undefined"){l=$("input_"+s).value;var C=$("id_"+s).down(".nicEdit-main");C&&(l=l.stripTags().replace(/\s/g," ").replace(/&nbsp;/g," "))}break;case"widget":var k=JotForm.getWidgetType(s);switch(k){case"timer":case"fancyTimer":if(u)l=$("input_"+s).value;else{var L=$("input_"+s).value,A=Math.floor(L/60);L-=A*60;L=JotForm.addZeros(L,2);l=A+":"+L}break;case"configurableList":case"dynMatrix":var O=JotForm.calculationType(t)==="html"?"<br/>":"\n",M=$("input_"+s).value;try{M=JSON.parse(M);for(var _=0;_<M.length;_++){var h=[];for(line in M[_]){if(!M[_].hasOwnProperty(line))continue;M[_][line].empty()||h.push(M[_][line])}l+=h.join(",")+O}}catch(N){console.log($("input_"+s).value);console.log(e)}break;case"giftRegistry":l=$("input_"+s).value;JotForm.calculationType(t)==="html"&&(l=l.replace(/\n/g,"<br/>"));break;case"imagelinks":case"links":var O=JotForm.calculationType(t)==="html"?"<br/>":"\n",M=JSON.parse($("input_"+s).value).widget_metadata.value;for(var _=0;_<M.length;_++){if(M[_].url.replace(/\s/g,"").empty())continue;var D=M[_].name&&!M[_].name.replace(/\s/g,"").empty();if(JotForm.calculationType(t)==="html")k==="imagelinks"?l+='<a href="'+M[_].url+'"><img src="'+M[_].url+'" /></a>':l+='<a href="'+M[_].url+'">'+(D?M[_].name:M[_].url)+"</a>";else{l+=D?M[_].name+": ":"";l+=M[_].url+O}}break;case"htmltext":var P=JSON.parse($("input_"+s).value).widget_metadata.value;l=window.atob?window.atob(P):"";JotForm.calculationType(t)!=="html"&&(l=l.strip().replace(/<br>/g,"\n").stripTags().replace(/&nbsp;/g," "));break;case"drivingDistance":l=$("input_"+s).value;if(l.indexOf("Distance")>-1){var H=l.match(/Distance(.*)/);H.length>1&&(l=H[1])}break;default:l=$("input_"+s).value}break;default:$("input_"+s)&&typeof $("input_"+s).value!="undefined"&&(l=$("input_"+s).value)}if(u&&typeof l!="number"){if(i){/\..*\,/.test(l)&&(l=l.replace(/\./g,""));l=l.replace(",",".")}l=l.replace(/-?([^0-9])/g,"$1").replace(/[^0-9\.-]/g,"")}u&&l<0&&(l="("+l+")");u&&l===""&&(l=0);return l},a=function(t,n){var r="",s={abs:Math.abs,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atanh:Math.atanh,atan2:Math.atan2,cbrt:Math.cbrt,ceil:Math.ceil,cos:Math.cos,cosh:Math.cosh,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,hypot:Math.hypot,imul:Math.imul,log:Math.log,log1p:Math.log1p,log10:Math.log10,log2:Math.log2,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sign:Math.sign,sin:Math.sin,sinh:Math.sinh,sqrt:Math.sqrt,tan:Math.tan,tanh:Math.tanh,toSource:Math.toSource,trunc:Math.trunc,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2};for(var o=0;o<t.length;o++){character=t.charAt(o);if(character==="["&&!n){var f=t.indexOf("]",o);try{var l=a(t.substring(o+1,f),!0);if(l){if(l.indexOf(",")==-1){l=(new MathProcessor).parse(l);if(JotForm.getInputType(e.resultField)!=="datetime"){l=l.toFixed(e.decimalPlaces);e.showEmptyDecimals||(l=parseFloat(l))}isFinite(l)||(l=0)}i&&(l=l.toString().replace(".",","));r+=l}}catch(c){console.log("exception in "+e.conditionId+" : "+l+"("+t+")")}o=f}else if(t.substr(o,3)==="|*|")try{o+=3;var f=t.indexOf("|*|",o);if(f===-1)continue;var h=t.substring(o,f);o+=f+2-o;if(t.charAt(o+1)==="("||t.charAt(o+1)==="["&&t.charAt(o+2)==="("){o+=t.charAt(o+1)==="["?3:2;var p=-1,d=1;for(var v=o;v<t.length;v++)if(t.charAt(v)===")"){d--;if(d===0){p=v;break}}else t.charAt(v)==="("&&d++;if(p===-1)continue;var m=t.substring(o,p);m=m.split(",");var g=m.slice(0);for(var y=0;y<m.length;y++){m[y]=a(m[y],!0);m[y]&&(m[y]=(new MathProcessor).parse(m[y]))}o+=p-o;if(h==="dateString"){var b=m[0]*24*60*60*1e3+3e4,w=new Date(b),E=function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=n[e.getUTCDay()],i=t[e.getUTCMonth()],s=JotForm.addZeros(e.getUTCDate(),2),o=e.getUTCFullYear();return r+" "+i+" "+s+" "+o};r+=E(w);t.charAt(o)==="]"?o++:t=t.substr(0,o+1)+"["+t.substr(o+1)}else if(h==="date"){if(m.length>2){var b=Date.UTC(m[0],m[1]-1,m[2]);r+=b/60/60/24/1e3}}else if(h==="nth"){var S=m[0];m=m.splice(1);m=m.sort(function(e,t){return parseInt(e)>parseInt(t)?1:parseInt(t)>parseInt(e)?-1:0});m=m.reverse();r+=m[parseInt(S)-1]}else if(h==="avg"||h==="avgNoZero"){var x=sum=0;for(var y=0;y<m.length;y++)if(parseFloat(m[y])>0){x++;sum+=parseFloat(m[y])}r+=h==="avg"?sum/m.length:sum/x}else if(h==="count"){var T=g[0];T=T.replace(/[\{\}]/g,"");var N=JotForm.getInputType(T),x=$$("#id_"+T+' input[type="'+N+'"]:checked').length;r+=x}else if(h==="commaSeparate")if(typeof m[0]=="number"){m[0]=m[0].toFixed(e.decimalPlaces);var C=m[0].toString().split(".");C[0]=C[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");r+=C.join(".")}else r+=m[0];else r+=s[h].apply(undefined,m)}else h==="random"?r+=Math.random():r+=s[h]}catch(c){console.log(c)}else if(character==="{"){var f=t.indexOf("}",o),k=t.substring(o+1,f);try{var L=u(k,n)}catch(c){console.log("error catching value");console.log(c)}if(L===""&&n)return!1;r+=L;o+=f-o}else r+=character}return r},f=a(e.equation);!(typeof f=="string"&&f.length>1)&&parseFloat(f)===0&&$("input_"+t)&&($("input_"+t).readAttribute("defaultValue")!=null||$("input_"+t).readAttribute("data-defaultvalue")!=null)&&(f=$("input_"+t).readAttribute("defaultValue")||$("input_"+t).readAttribute("data-defaultvalue"));var l=e.isLabel?"html":JotForm.calculationType(t);switch(l){case"html":try{e.replaceText||(e.replaceText="");if(e.replaceText.indexOf(":")>-1){var c=e.replaceText.substr(e.replaceText.indexOf(":")+1);c in o&&(f=o[c])}f.empty()&&e.defaultValue&&(f=e.defaultValue);var h=$$("."+t+"_"+e.replaceText.replace(":","\\:"));if(h.length==0){var p=e.isLabel?$("label_"+t).innerHTML:$("text_"+t).innerHTML,d=new RegExp("{"+e.replaceText+"(\\[.*?\\]){0,1}}","g"),v=e.defaultValue||"";p=p.replace(d,'<span class="replaceTag '+t+"_"+e.replaceText+'" default="'+v+'">'+f+"</span>");e.isLabel?$("label_"+t).update(p):$("text_"+t).update(p)}else h.each(function(e){e.update(f)})}catch(s){console.log(s)}break;case"address":case"authnet":case"paypalpro":case"combined":case"time":case"braintree":case"stripe":for(var m in o)$("id_"+t).select("input[id*="+m+"], select[id*="+m+"]").length>0&&($("id_"+t).select("input[id*="+m+"], select[id*="+m+"]").first().value=o[m]);$("input_"+t+"_full")&&$("input_"+t+"_full").readAttribute("masked")=="true"&&JotForm.setQuestionMasking("#input_"+t+"_full","textMasking",$("input_"+t+"_full").readAttribute("maskValue"));break;case"datetime":if(o&&"year"in o)for(var m in o)$("id_"+t).select("input[id*="+m+"], select[id*="+m+"]").length>0&&($("id_"+t).select("input[id*="+m+"], select[id*="+m+"]").first().value=o[m]);else try{if(typeof f=="number"&&f>0||typeof f=="string"&&f.replace(/\s/g,"").length>0&&f!=="0"){var g=new Date(Math.round(f*60*60*24*1e3)),y=g.getUTCFullYear(),b=JotForm.addZeros(g.getUTCMonth()+1,2),w=JotForm.addZeros(g.getUTCDate(),2);isNaN(y)||($("year_"+t).value=y);isNaN(b)||($("month_"+t).value=b);isNaN(w)||($("day_"+t).value=w)}}catch(s){console.log(s)}if($("lite_mode_"+t)){var g=new Date($("year_"+t).value,$("month_"+t).value-1,$("day_"+t).value);g.getTime()&&JotForm.formatDate({date:g,dateField:$("id_"+t)})}break;case"number":f=f.replace(/[^\-0-9\.]/g,"");$("input_"+t).value=f;break;case"radio":var E=$$("#id_"+t+' input[type="radio"]');$A(E).each(function(e){e.checked=!1;e.value==f.strip()&&(e.checked=!0)});break;case"checkbox":var S=$$("#id_"+t+' input[type="checkbox"]'),x=f.split(",");x=x.collect(function(e){return e.strip()});$A(S).each(function(e){e.checked=!1;x.include(e.value)&&(e.checked=!0)});break;case"select":$("input_"+t).setValue(f.strip());break;case"matrix":"resultSubField"in e&&$(e.resultSubField)&&($(e.resultSubField).value=f);break;case"textarea":f=f.replace(/<br>|<br\/>/gi,"\r\n");f&&f.length>0&&$("input_"+t).removeClassName("form-custom-hint").removeAttribute("spellcheck");var T=$("id_"+t).down(".nicEdit-main");if(T){T.innerHTML=f;T.setStyle({color:""})}$("input_"+t).value=f;break;default:$("input_"+t).hinted===!0&&$("input_"+t).clearHint();$("input_"+t).value=f;f&&f.length===0&&$("input_"+t).hintClear&&$("input_"+t).hintClear();$("input_"+t).readAttribute("masked")=="true"&&JotForm.setQuestionMasking("#input_"+t,"textMasking",$("input_"+t).readAttribute("maskValue"));JotForm.donationField&&JotForm.donationField.getAttribute("data-custom-amount-field")==t&&$("input_"+t).triggerEvent("change")}var N=function(){var e=(new Date).getTime(),n=e%1e3;n<500?n="0":n="1";var r=parseInt(e/1e3),i="input_"+t+"-"+r+"-"+n;"__antiLoopCache"in window||(window.__antiLoopCache={});if(i in window.__antiLoopCache){window.__antiLoopCache[i]++;if(window.__antiLoopCache[i]>9)return!0}else window.__antiLoopCache[i]=1;return!1};if(N())return;$("id_"+t).hasClassName("form-line-error")&&$("id_"+t).select("select[class*='required'], textarea[class*='required'], input[class*='required']").each(function(e){e.validateInput&&e.validateInput()});var C,k;if(l=="checkbox"||l=="radio"){k="click";C=$("id_"+t)}else if(l=="select"){k="change";$("input_"+t)&&(C=$("input_"+t))}else{k="keyup";C=$("input_"+t)?$("input_"+t):$("id_"+t).select("input").first()}if(!C)return;if(document.createEvent){var L=document.createEvent("HTMLEvents");L.initEvent(k,!0,!0);C.dispatchEvent(L)}C.fireEvent&&C.fireEvent("on"+k)},getWidgetType:function(e){try{if(!$("id_"+e||$("id_"+e).down("iframe")))return!1;if($("input_"+e).value.indexOf("widget_metadata")>1)return JSON.parse($("input_"+e).value).widget_metadata.type;var t=$("id_"+e).down("iframe"),n=t.src,r=new RegExp("jotform.io/(.*)/"),i=r.exec(n);return!i||i.length<2||!i[1]?!1:i[1]}catch(s){console.error("get widget type error");return!1}},widgetsWithConditions:[],triggerWidgetCondition:function(e){if(JotForm.widgetsWithConditions.include(e))if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0);$("input_"+e).dispatchEvent(t)}else if($("input_"+e).fireEvent)return $("input_"+e).fireEvent("onchange")},setConditionEvents:function(){try{$A(JotForm.conditions).each(function(e){if(e.disabled==1)return;if(e.type=="field"||e.type=="calculation"||e.type=="require"||e.type=="mask"||$A(e.action).length>0&&e.action.first().skipHide==="hidePage"){var t=[];$A(e.terms).each(function(n){t.push(n.field);if(e.type=="field"&&"value"in n&&typeof n.value=="string"){var r=n.value;try{r.replace(/\{.*?\}/gi,function(e,n,r,i){var s=e.replace(/[\{\}]/g,""),o=$$('input[name$="_'+s+'"]');if(o.length>0){var u=o[0],a=u.id;a=a.replace(/input_/,"");t.push(a)}})}catch(i){console.log(e)}}});$A(t).each(function(t){switch(JotForm.getInputType(t)){case"widget":JotForm.setFieldConditions("input_"+t,"change",e);JotForm.widgetsWithConditions.push(t);break;case"combined":case"email":JotForm.setFieldConditions("id_"+t,"autofill",e);break;case"address":JotForm.setFieldConditions("id_"+t,"autofill",e);JotForm.setFieldConditions("input_"+t+"_country","change",e);break;case"datetime":JotForm.setFieldConditions("id_"+t,"date:changed",e);break;case"birthdate":JotForm.setFieldConditions("input_"+t+"_day","change",e);JotForm.setFieldConditions("input_"+t+"_month","change",e);JotForm.setFieldConditions("input_"+t+"_year","change",e);break;case"time":JotForm.setFieldConditions("input_"+t+"_hourSelect","change",e);JotForm.setFieldConditions("input_"+t+"_minuteSelect","change",e);JotForm.setFieldConditions("input_"+t+"_ampm","change",e);case"select":case"file":$("input_"+t)?JotForm.setFieldConditions("input_"+t,"change",e):$("id_"+t).select("select").each(function(t){JotForm.setFieldConditions(t.id,"change",e)});break;case"checkbox":case"radio":JotForm.setFieldConditions("id_"+t,"click",e);break;case"number":JotForm.setFieldConditions("input_"+t,"number",e);break;case"autocomplete":JotForm.setFieldConditions("input_"+t,"autocomplete",e);break;case"grading":JotForm.setFieldConditions("id_"+t,"keyup",e);break;case"text":JotForm.setFieldConditions("input_"+t,"autofill",e);break;case"hidden":$("input_"+t+"_donation")?JotForm.setFieldConditions("input_"+t+"_donation","keyup",e):JotForm.setFieldConditions("input_"+t,"keyup",e);break;default:JotForm.setFieldConditions("input_"+t,"keyup",e)}})}else if(document.get.mode=="edit"||document.get.mode=="inlineEdit"){var n=function(e,t){var n=$$(".form-pagebreak-next");for(var r=0;r<n.length;r++){var i=n[r];if(i==e)return!0;if(i==t)return!1}},r=!1;$A(e.terms).each(function(e){var t=e.field.toString();t.indexOf("_")!==-1&&(t=t.split("_")[0]);var i=JotForm.getSection($("id_"+t)).select(".form-pagebreak-next")[0];if(!i)return;var s=parseInt(i.id.substring(i.id.lastIndexOf("_")+1));if(!r||n(r,i))r=i});r&&r.observe("mousedown",function(){JotForm.checkCondition(e)})}else $A(e.terms).each(function(t){var n=t.field.toString();n.indexOf("_")!==-1&&(n=n.split("_")[0]);if(!$("id_"+n))return;var r=JotForm.getSection($("id_"+n)).select(".form-pagebreak-next")[0];if(!r)return;r.observe("mousedown",function(){JotForm.checkCondition(e)})})});$H(JotForm.fieldConditions).each(function(e){var t=e.key,n=e.value.event,r=e.value.conditions;if(!$(t))return;if(n=="autocomplete"){$(t).observe("blur",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("blur");$(t).observe("keyup",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("keyup")}else if(n=="number"){$(t).observe("change",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("change");$(t).observe("keyup",function(){$A(r).each(function(e){JotForm
.checkCondition(e)})}).run("keyup")}else if(n=="autofill"){$(t).observe("blur",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("blur");$(t).observe("keyup",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("keyup");!Prototype.Browser.IE9&&!Prototype.Browser.IE10&&Prototype.Browser.IE||$(t).observe("change",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("change")}else{$(t).observe(n,function(){$A(r).each(function(e){JotForm.checkCondition(e)})});$(t).id.match(/input_[0-9]+_quantity_[0-9]+_[0-9]+/)?JotForm.runConditionForId(t.replace("input_","")):$(t).run(n)}})}catch(e){JotForm.error(e)}},setFieldsToPreserve:function(e){var t=["braintree","dwolla","stripe","paypal","paypalpro","paypalexpress","authnet"],n=JotForm.payment&&t.indexOf($$('input[name="simple_fpc"]')[0].getAttribute("data-payment_type"))>-1,r=[{type:"phone",pattern:/Phone|Contact/i},{type:"email",pattern:/email|mail|e-mail/i},{type:"company",pattern:/company|organization/i}],i=$$('.form-line[data-type*="email"], .form-line[data-type*="textbox"], .form-line[data-type*="phone"]');sortedFields=i.sort(function(e,t){return Number(e.id.replace("id_",""))-Number(t.id.replace("id_",""))});var s={};sortedFields.each(function(t){if(Object.keys(s).length==3)throw $break;var i=t.id.replace("id_",""),o=t.down("input").name.replace(/q\d+_/,""),u=t.getAttribute("data-type").replace("control_","");n&&r.each(function(e){if(u=="textbox"||u==e.type){var n=t.down("label").innerHTML.strip();if(e.pattern.exec(n)&&!s[e.type]){s[e.type]=i;JotForm.fieldsToPreserve.push(i)}}});e&&e.indexOf(o)>-1&&JotForm.fieldsToPreserve.push(i)})},changePaymentStrings:function(e){$("coupon-header")&&e.couponEnter&&($("coupon-header").innerHTML=e.couponEnter);$("shipping-text")&&e.shippingShipping&&($("shipping-text").innerHTML=e.shippingShipping);$("tax-text")&&e.taxTax&&($("tax-text").innerHTML=e.taxTax);$("subtotal-text")&&e.totalSubtotal&&($("subtotal-text").innerHTML=e.totalSubtotal);$("total-text")&&e.totalTotal&&($("total-text").innerHTML=e.totalTotal)},handleSubscriptionPrice:function(){navigator.userAgent.toLowerCase().indexOf("safari/")>-1&&$$(".form-product-custom_price").each(function(e){e.onclick=function(e){e.preventDefault()}});var e=$$("input[data-price-source]");if(e.length<1)return;var t=[],n={};e.each(function(e){var r=e.getAttribute("data-price-source"),i=$("input_"+r);if(!i)return;n[r]||(n[r]=[]);var s=function(){var e=i.value;typeof e!="number"&&(e=e.replace(/[^0-9\.]/gi,""));return!isNaN(e)&&e>0?e:0};t.push(i);n[r].push(function(){e.value=s()})});t.each(function(e){var t=e.id.replace("input_","");e.onkeyup=function(){n[t].each(function(e){e()});JotForm.countTotal()}})},handleDonationAmount:function(){var e=JotForm.donationField=$$('input[id*="_donation"]')[0];JotForm.paymentTotal=e.value||0;e.observe("keyup",function(){JotForm.paymentTotal=this.value});if($$('input[id*="_donation"]')[0].getAttribute("data-custom-amount-field")>0){var t=$("input_"+e.getAttribute("data-custom-amount-field"));if(!t)return;var n=function(){var e=t.value;typeof e!="number"&&(e=e.replace(/[^0-9\.]/gi,""));return!isNaN(e)&&e>0?e:0};setTimeout(function(){e.value=n();e.triggerEvent("keyup")},1e3);t.observe("change",function(){e.value=JotForm.paymentTotal=n()})}else if(e.hasAttribute("data-min-amount")){var r=e.nextSibling.textContent.strip(),i=parseFloat(e.readAttribute("data-min-amount"));e.validateMinimum=function(){var t=this.getValue();return isNaN(t)||t<i?JotForm.errored(e,"Minimum amount is "+i+" "+r):JotForm.corrected(e)}}},isPaymentSelected:function(){var e=!1,t=$$('input[name="simple_fpc"]')[0].value,n=$("id_"+t);if($$('input[name="simple_fpc"]').length<1)return!1;if(n&&(n.getStyle("display")==="none"||!JotForm.isVisible(n)&&JotForm.getSection(n).id))return!1;if(window.productID)$H(window.productID).each(function(t){var n=$(t.value);if(n.checked){if(!!n.up().select('select[id*="_quantity_"],input[id*="_quantity_"]').length)var r=n.up().select('select[id*="_quantity_"],input[id*="_quantity_"]')[0];if(!r||r.getValue()>0){e=!0;throw $break}}});else{if(!$("input_"+t+"_donation")){var i=$$('input[name*="q'+t+'"][type="hidden"]');if(i.length<1)return!1;if(i[0].readAttribute("selected")==="false"){i[0].remove();return!1}return!0}var r=$("input_"+t+"_donation");/^\d+(?:\.\d+)?$/.test(r.getValue())&&(e=r.getValue()>0)}return e},togglePaypalButtons:function(e){var t=$$('input[name="simple_fpc"]')[0].value;$("input_"+t+"_paymentType_express")&&!$("input_"+t+"_paymentType_express").checked&&(e=!1);if($$(".paypal-button").length<1||!$("use_paypal_button"))return;$$(".form-submit-button").each(function(t){if(e){if(t.up().down(".paypal-button")){t.up().down(".paypal-button").show();t.hide()}}else{t.up().down(".paypal-button")&&t.up().down(".paypal-button").hide();t.show()}})},handlePaypalButtons:function(){var e=window.productID,t=!1,n=$$('input[name="simple_fpc"]')[0].value;e?$H(e).each(function(e){if($(e.value).getAttribute("class").indexOf("[required]")>-1){t=!0;throw $break}}):$("input_"+n+"_donation")&&(t=$("input_"+n+"_donation").getAttribute("class").indexOf("required")>-1);JotForm.togglePaypalButtons(t||JotForm.isPaymentSelected());t||$H(e).each(function(e){$(e.value).observe("click",function(){JotForm.togglePaypalButtons(JotForm.isPaymentSelected())})})},isFormEmbedded:function(){var e=$$(".jotform-form")[0];if(window!==window.top){e.insert((new Element("input",{type:"hidden",name:"embeddedForm"})).putValue(document.referrer));console.log(document.referrer)}},handlePaypalExpress:function(){if(typeof _paypalExpress!="function"||$("express_category").getAttribute("data-digital_goods")==="No")return;var e=new _paypalExpress;e.init()},handleBraintree:function(){if(["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid)return;if(typeof __braintree!="function"){alert("Braintree payment script didn't work properly. Form will be reloaded");location.reload();return}var e=__braintree();e.init()},handleSquare:function(){if(["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid)return;if(window===window.top&&window.location.protocol!=="https:"){window.location.href=window.location.href.replace("http","https");return}if(typeof __square!="function"){alert("Squre payment script didn't work properly. Form will be reloaded");location.reload();return}var e=__square();e.init()},handlePaymentSubProducts:function(){function i(n){var r=n.parentNode;if(!n.checked){r.shift({height:e[n.id][1],duration:.3});t[n.id]=[];$$("#"+n.id+"_subproducts select,"+"#"+n.id+'_subproducts input[type="text"]').each(function(e,r){var i=e.tagName==="select"?e.getSelected().value:e.value;i&&t[n.id].push([e.id,i]);e.stopObserving();e.tagName==="SELECT"?e.selectedIndex=0:e.value=0})}else{r.shift({height:e[n.id][0]-10,duration:.3});t[n.id]&&t[n.id].length>0&&t[n.id].each(function(e){$(e[0]).stopObserving();$(e[0]).tagName==="SELECT"?$(e[0]).selectOption(e[1]):$(e[0]).value=e[1]})}setTimeout(function(){JotForm.totalCounter(JotForm.prices)},300)}var e=[],t=[],n=$$(".form-section"),r=!1;$$(".form-product-has-subproducts").each(function(t){var s=t.up(".form-line")&&t.up(".form-line").hasClassName("form-field-hidden")?t.up(".form-line").show():!1;if(n.length>1){r=r?r:n.filter(function(e){return t.descendantOf(e)&&t.up(".form-section")===e})[0];if(!r.isVisible()){r.setStyle({display:"block"});e[t.id]=[t.parentNode.getHeight(),$$('label[for="'+t.id+'"]')[0].getHeight()];r.setStyle({display:"none"})}else e[t.id]=[t.parentNode.getHeight(),$$('label[for="'+t.id+'"]')[0].getHeight()]}else e[t.id]=[t.parentNode.getHeight(),$$('label[for="'+t.id+'"]')[0].getHeight()];i(t);t.observe("click",function(){i(this)});s&&t.up(".form-line").hide()})},setCurrencyFormat:function(e,t,n){var r=["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VUV","XAF","XOF","XPF"],i=r.indexOf(e)>-1||!t?0:2;this.currencyFormat={curr:e,dSeparator:n=="comma"?",":".",tSeparator:n=="comma"?".":",",decimal:i}},countTotal:function(e){var e=e||JotForm.prices,t=!1;if(Object.keys(JotForm.discounts).length>0){t=!0;if(JotForm.discounts.total||JotForm.discounts.shipping)var n=JotForm.discounts.type,r=JotForm.discounts.rate,i=JotForm.discounts.minimum,s=JotForm.discounts.code;else for(var o in e)for(var u in JotForm.discounts)o.indexOf(u)!==-1&&(e[o].discount=JotForm.discounts[u])}else $H(e).each(function(t){delete e[t.key].discount});var a=0,f=0,l=[],c=0,h=0,p=0,d=JotForm.currencyFormat.decimal,v=JotForm.currencyFormat.dSeparator,m=JotForm.currencyFormat.tSeparator,g=0,y=0,b=!1;$H(e).each(function(e){if(e.value.price=="custom"){b=e.key;return}if(!(!e.value.quantityField||parseInt($(e.value.quantityField).getValue())>0))return;var t=e.value.recurring?!0:!1,n=typeof Stripe=="function";a=parseFloat(a);var r=0,i=parseFloat(e.value.price)||0,s=0,o=!1,u,w=e.value.recurring;if(e.key.split("_").length===4){o=!0;u=e.key.split("_");u.pop();u=u.join("_");l[u]=l[u]||0}else u=e.key;if($(e.value.specialPriceField)){var E=$(e.value.specialPriceField);if(e.value.child&&e.value.specialPriceField.split("_").length===4){var S=e.value.specialPriceField.split("_")[3];i=parseFloat(e.value.specialPriceList[S])}else{isNaN($(E).options[0].value)||$(E).options[0].value>0||$(E.options[0].innerHTML.strip()!="")?priceIndex=E.getSelected().index:priceIndex=E.getSelected().index-1;if(priceIndex>-1){i=parseFloat(e.value.specialPriceList[priceIndex]);$(e.key+"_price")&&$(e.key+"_price").siblings(".freeCurr").each(function(e){e.style.display="inline"})}else{var x=e.value.specialPriceList[priceIndex+1];i=0}}}if(e.value.discount){var T=e.value.discount.split("-");if(!T[2]){i-=T[1]==="fixed"?T[0]:i*(T[0]/100);i=i<0?0:i}else if(T[2]==="all"){if(t){w-=T[1]==="fixed"?T[0]:w*(T[0]/100);w=w<0?0:w}if(n&&t){var N=i-w;N-=T[1]==="fixed"?T[0]:N*(T[0]/100);N=N<0?0:N;i=Number(w)+Number(N)}else{i-=T[1]==="fixed"?T[0]:i*(T[0]/100);i=i<0?0:i}}else if(T[2]==="first"){if(t)if(n){var N=i-w;N-=T[1]==="fixed"?T[0]:N*(T[0]/100);N=N<0?0:N;i=Number(w)+Number(N)}else{i-=T[1]==="fixed"?T[0]:i*(T[0]/100);i=i<0?0:i}}else if(T[2]==="stripe_native")if(t){var N=i-w;i=w-(T[1]==="fixed"?T[0]:w*(T[0]/100));T[3]||(w=i);i+=Number(N)}else{i-=T[1]==="fixed"?T[0]:i*(T[0]/100);i=i<0?0:i}}if(!e.value.recurring){var C=$(e.key+"_price")?$(e.key+"_price"):$(e.key.replace(e.key.substring(e.key.lastIndexOf("_")),"")+"_price")||null;if(C){var k=C.innerHTML;if(i=="0"&&e.value.specialPriceList&&x)$(C).update(parseFloat(x||0).formatMoney(d,v,m));else if(e.value.price=="0"&&!e.value.specialPriceList)$(C).update(" Free");else{$(C).parentNode.show();$(C).update(parseFloat(i).formatMoney(d,v,m))}}}else{var L=$(e.key+"_setupfee");C=$(e.key+"_price");if(C){var A=t?w:i;$(C).update(parseFloat(A).formatMoney(d,v,m))}L&&$(L).update(parseFloat(i).formatMoney(d,v,m))}if(e.value.tax){var O=e.value.tax;p=parseFloat(O.rate);if($$('select[id*="input_'+O.surcharge.field+'"]').length>0&&$$('select[id*="input_'+O.surcharge.field+'"]')[0].getSelected().value){var M=$$('select[id*="input_'+O.surcharge.field+'"]')[0].getSelected().value;$H(O.surcharge.rates).each(function(e){if(e[1][1].toLowerCase()===M.toLowerCase()){p+=Number(e[1][0]);throw $break}})}$$('input[id="input_'+O.surcharge.field+'"]').length>0&&!$$('input[id="input_'+O.surcharge.field+'"]')[0].value.empty()&&$H(O.surcharge.rates).each(function(e){if(e[1][1].toLowerCase()===$$('input[id="input_'+O.surcharge.field+'"]')[0].value.toLowerCase()){p+=Number(e[1][0]);throw $break}})}e.value.addons&&(i+=e.value.addons);if($(e.key).checked){y++;if($(e.value.quantityField)||$(e.value.specialPriceField)){$(e.value.quantityField)&&e.value.specialPriceField!==e.value.quantityField&&($(e.value.quantityField).readAttribute("type")=="text"?i=$(e.value.quantityField).value?i*Math.abs(parseInt($(e.value.quantityField).value,10)):0:i*=parseInt($(e.value.quantityField).getSelected().text||0,10));o&&(l[u]+=i);$(u+"_item_subtotal")&&!isNaN(i)&&(o?$(u+"_item_subtotal").update(parseFloat(l[u]).formatMoney(d,v,m)):$(u+"_item_subtotal").update(parseFloat(i).formatMoney(d,v,m)))}e.value.tax&&(s=i*(p/100));if(e.value.shipping){var _=e.value.shipping;if(_.firstItem){var D=$(e.value.quantityField)?$(e.value.quantityField).readAttribute("type")==="text"?parseInt($(e.value.quantityField).value):parseInt($(e.value.quantityField).getSelected().text||0):1;D===1&&(r=parseFloat(_.firstItem));D>1&&(r=parseFloat(_.addItem)?parseFloat(_.firstItem)+parseFloat(_.addItem)*(D-1):parseFloat(_.firstItem))}else g==0&&_.flatRate&&(c=g=parseFloat(_.flatRate))}h+=s;g||(c+=r);f+=i;a+=i+r+s}else $(e.key+"_item_subtotal")&&$(e.key+"_item_subtotal").update("0.00")});a=g>0?a+g:a;if(a===0||isNaN(a))a="0.00";if($("coupon-button"))var w=$($("coupon-button").getAttribute("data-qid")+"_coupon");if(JotForm.discounts.total){if(f>=i){var E=n==="fixed"?r:r/100*parseFloat(f);a=f=f>E?f-E:0;w.value=s}else{E=0;w.value=""}$$(".form-payment-total")[0].insert({top:JotForm.discounts.container});$("discount_total").update(parseFloat(E).formatMoney(d,v,m))}if(JotForm.discounts.shipping&&c>0&&f>=i){var E=n==="fixed"?r:r/100*parseFloat(c),S=c;c=c>E?c-E:0;a-=S-c}b&&$(b).checked&&(a=$(b+"_custom_price").getValue());this.paymentTotal=Number(a);$("creditCardTable")&&(y>0&&this.paymentTotal===0&&t?$("creditCardTable").hide():$$('input[id*="paymentType_credit"]')[0].checked&&$("creditCardTable").show());$("payment_subtotal")&&$("payment_subtotal").update(parseFloat(f).formatMoney(d,v,m));$("payment_tax")&&$("payment_tax").update(parseFloat(h).formatMoney(d,v,m));$("payment_shipping")&&$("payment_shipping").update(parseFloat(c).formatMoney(d,v,m));if($("payment_total")){$("payment_total").update(parseFloat(a).formatMoney(d,v,m));$("payment_total").up(".form-line")&&$("payment_total").up(".form-line").triggerEvent&&$("payment_total").up(".form-line").triggerEvent("keyup")}},prices:{},totalCounter:function(e){Number.prototype.formatMoney||(Number.prototype.formatMoney=function(e,t,n){var r=typeof this.toString().split(".")[1]!="undefined"&&this.toString().split(".")[1].length>e&&this.toString().charAt(this.toString().length-1)==="5"?this.toString()+"1":this.toString(),i=parseFloat(r),e=isNaN(e=Math.abs(e))?2:e,t=t===undefined?".":t,n=n===undefined?",":n,s=i<0?"-":"",o=parseInt(i=Math.abs(+i||0).toFixed(e))+"",u=(u=o.length)>3?u%3:0;return s+(u?o.substr(0,u)+n:"")+o.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?t+Math.abs(i-o).toFixed(e).slice(2):"")});JotForm.prices=e;document.observe("dom:loaded",JotForm.countTotal(e));$H(e).each(function(t){$(t.key).observe("click",function(){JotForm.countTotal(e)});if(t.value.price=="custom"){$(t.key+"_custom_price").stopObserving("keyup");$(t.key+"_custom_price").observe("keyup",function(){JotForm.countTotal(e)})}if(t.value.tax){var n=t.value.tax.surcharge;if($$('select[id*="input_'+n.field+'"]').length>0){$$('select[id*="input_'+n.field+'"]')[0].stopObserving("change");$$('select[id*="input_'+n.field+'"]')[0].observe("change",function(){setTimeout(JotForm.countTotal(),500)})}if($$('input[id="input_'+n.field+'"]').length>0){$$('input[id="input_'+n.field+'"]')[0].stopObserving("keyup");$$('input[id="input_'+n.field+'"]')[0].observe("keyup",function(){setTimeout(JotForm.countTotal(),500)})}}var r=function(e){var t=$(e).id.match(/input_([0-9]*)_quantity_/)||$(e).id.match(/input_([0-9]*)_custom_/);setTimeout(function(){t&&$("id_"+t[1])&&$("id_"+t[1]).triggerEvent("click");var n=e.up(".form-product-item");n&&n.down("input")&&n.down("input").validateInput&&n.down("input").validateInput()},100)};if($(t.value.quantityField)){function i(){if(JotForm.isVisible($(t.value.quantityField))){if($(t.value.quantityField).tagName!=="SELECT"||$(t.value.quantityField).getSelected().index>0||$(t.value.quantityField).getValue()==="0")$(t.key).checked=$(t.value.quantityField).getValue()<=0?!1:!0;JotForm.countTotal(e)}}$(t.value.quantityField).observe("change",function(){setTimeout(i,50);r(this)});$(t.value.quantityField).observe("keyup",function(){setTimeout(i,50);r(this)})}if($(t.value.specialPriceField)){function s(){if(JotForm.isVisible($(t.value.specialPriceField))){if($(t.value.specialPriceField).tagName!=="SELECT"||$(t.value.specialPriceField).getSelected().index>0)$(t.key).checked=!0;JotForm.countTotal(e)}}$(t.value.specialPriceField).observe("change",function(){setTimeout(s,50);r(this)});$(t.value.specialPriceField).observe("keyup",function(){setTimeout(s,50)})}})},discounts:{},handleCoupon:function(){var e=this;JotForm.countTotal(JotForm.prices);if($("coupon-button")){var t=$("coupon-button"),n=$("coupon-loader"),r=$("coupon-message"),i=$("coupon-input");t.innerHTML=this.paymentTexts.couponApply;var s=$$('input[name="formID"]')[0].value;i.observe("keypress",function(e){if(e.keyCode===13){e.preventDefault();t.click();i.blur()}});i.enable();$$('input[name="coupon"]')[0].value="";t.observe("click",function(){if(i.value){t.hide();n.show();i.value=i.value.replace(/\s/g,"");t.disable();var o=i.hasAttribute("stripe")&&window.paymentType==="subscription",u=new Ajax.Jsonp(JotForm.server,{parameters:{action:"checkCoupon",coupon:i.value,formID:s,stripe:o,paymentID:$$('input[name="simple_fpc"]')[0].value},evalJSON:"force",onComplete:function(s){s=s.responseJSON||s;if(s.success)if(s.message.indexOf("{")===-1){s.message==="expired"?r.innerHTML=e.paymentTexts.couponExpired:r.innerHTML=e.paymentTexts.couponInvalid;i.select();n.hide();t.show();t.enable()}else{n.hide();t.show();r.innerHTML=e.paymentTexts.couponValid;JotForm.applyCoupon(s.message)}}})}else $("coupon-message").innerHTML=e.paymentTexts.couponBlank}.bind(this))}},applyCoupon:function(e){var t=this;e=JSON.parse(e);JotForm.discounts={};var n=$("coupon-button"),r=$("coupon-loader"),i=$("coupon-message"),s=$("coupon-input"),o=$(n.getAttribute("data-qid")+"_coupon");n.stopObserving("click");o&&(o.value=e.code);n.enable();s.disable();n.innerHTML=this.paymentTexts.couponChange;n.observe("click",function(){o.value="";a.each(function(e){e.remove()});JotForm.discounts.container&&JotForm.discounts.container.remove();$$('span[id*="_price"]').each(function(e,t){$(e).removeClassName("underlined")});$$('span[id*="_setupfee"]').each(function(e,t){$(e).removeClassName("underlined")});JotForm.discounts={};n.stopObserving("click");i.innerHTML="";n.innerHTML=t.paymentTexts.couponApply;s.enable();s.select();JotForm.handleCoupon()});var u=[],a=[];if(e.products&&e.products.length>0&&e.products.include("all")){e.products=[];for(var f in productID)e.products.push(productID[f].slice(-4))}if(!e.paymentType||e.paymentType&&e.paymentType==="product")if(e.apply==="product")$A(e.products).each(function(t){JotForm.discounts[t]=e.rate+"-"+e.type;$$('span[id*="_price"]').each(function(e,n){e.id.indexOf(t)>-1&&$(e).addClassName("underlined")});if($$('label[for*="'+t+'"] span.form-product-details b')[0]){var n=$$('label[for*="'+t+'"] span.form-product-details b')[0];a[t]=new Element("span");var r=new Element("span",{style:"text-decoration:line-through"});r.insert(n.innerHTML.replace("price","price_old"));a[t].insert({top:"&nbsp"});a[t].insert(r);a[t].insert({bottom:"&nbsp"});n.insert({top:a[t]})}});else if(e.apply==="total"){var l=$$(".form-payment-total b")[0].innerHTML.replace("Total:","Discount:").replace("payment_total","discount_total").replace("<span>","<span> - ");JotForm.discounts={total:!0,code:e.code,minimum:e.minimum,type:e.type,rate:e.rate,container:(new Element("span")).insert(l+"<br><br>").setStyle({fontSize:"10px"})}}else JotForm.discounts={shipping:!0,code:e.code,minimum:e.minimum,type:e.type,rate:e.rate};else $A(e.products).each(function(t){JotForm.discounts[t]=e.rate+"-"+e.type;e.apply&&(JotForm.discounts[t]+="-"+e.apply);e.duration&&e.duration===1&&(JotForm.discounts[t]+="-once");$$('span[id*="_price"]').each(function(n,r){if(n.id.indexOf(t)>-1&&$$('span[id*="'+t+'_setupfee"]').length>0&&e.apply==="all"){$(n).addClassName("underlined");throw $break}});$$('span[id*="_setupfee"]').each(function(e,n){if(e.id.indexOf(t)>-1){$(e).addClassName("underlined");throw $break}})});JotForm.countTotal(JotForm.prices)},setStripeSettings:function(e,t){if(["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid||location.href.indexOf("edit")>-1)return;if((e||t)&&typeof Stripe=="function"&&typeof Stripe.setPublishableKey=="function"&&typeof _StripeValidation=="function"){var n=e.replace(/\s+/g,"");Stripe.setPublishableKey(n);var r=new _StripeValidation;r.setAddress_qid(t);r.init()}},setFilePickerIOUpload:function(e){if(e&&typeof filepicker=="object"&&typeof _JF_filepickerIO=="function"){var t=new _JF_filepickerIO(e);t.init()}else console.error("filepicker OR _JF_filepickerIO object library are missing")},initCaptcha:function(e){setTimeout(function(){var t=navigator.userAgent.toLowerCase(),n=t.indexOf("msie")!=-1?parseInt(t.split("msie")[1],10):!1;n&&n<9&&(t.indexOf("windows nt 5.1")!=-1||t.indexOf("windows xp")!=-1||t.indexOf("windows nt 5.2")!=-1)&&(JotForm.server="https://www.jotform.com/server.php");var r=new Ajax.Jsonp(JotForm.server,{parameters:{action:"getCaptchaId"},evalJSON:"force",onComplete:function(t){t=t.responseJSON||t;if(t.success){$(e+"_captcha").src="https://www.jotform.com/server.php?action=getCaptchaImg&code="+t.num;$(e+"_captcha_id").value=t.num}}})},150)},reloadCaptcha:function(e){$(e+"_captcha").src=JotForm.url+"images/blank.gif";JotForm.initCaptcha(e)},addZeros:function(e,t){e=e.toString();var n="";if(t>e.length)for(i=0;i<t-e.length;i++)n+="0";return n+e.toString()},formatDate:function(e){var t=e.date,n=JotForm.addZeros(t.getMonth()+1,2),r=JotForm.addZeros(t.getDate(),2),i=t.getYear()<1e3?t.getYear()+1900:t.getYear(),s=e.dateField.id.replace(/\w+\_/gim,"");$("month_"+s).value=n;$("day_"+s).value=r;$("year_"+s).value=i;if($("lite_mode_"+s)){var o=$("lite_mode_"+s),u=o.readAttribute("seperator")||o.readAttribute("data-seperator"),a=o.readAttribute("format")||o.readAttribute("data-format"),f=n+u+r+u+i;a=="ddmmyyyy"?f=r+u+n+u+i:a=="yyyymmdd"&&(f=i+u+n+u+r);o.value=f}$("id_"+s).fire("date:changed")},highLightLines:function(){$$(".form-line").each(function(e,t){e.select("input, select, textarea, div, table div, button").each(function(t){t.observe("focus",function(){JotForm.isCollapsed(e)&&JotForm.getCollapseBar(e).run("click");if(!JotForm.highlightInputs)return;e.addClassName("form-line-active");e.__classAdded&&(e.__classAdded=!1)}).observe("blur",function(){if(!JotForm.highlightInputs)return;e.removeClassName("form-line-active")})})})},getForm:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!1:e.tagName=="FORM"?$(e):JotForm.getForm(e.parentNode):!1},getContainer:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!1:e.hasClassName("form-line")?$(e):JotForm.getContainer(e.parentNode):!1},getSection:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!1:(e.hasClassName("form-section-closed")||e.hasClassName("form-section"))&&!e.id.match(/^section_/)?e:JotForm.getSection(e.parentNode):!1},getCollapseBar:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!1:e.hasClassName("form-section-closed")||e.hasClassName("form-section")?e.select(".form-collapse-table")[0]:JotForm.getCollapseBar(e.parentNode):!1},isCollapsed:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!1:e.className=="form-section-closed"?!0:JotForm.isCollapsed(e.parentNode):!1},isVisible:function(e){e=$(e);return e.parentNode?e.hasClassName("always-hidden")?!1:e&&e.tagName=="BODY"?!0:e.hasClassName("form-textarea")&&e.up("div").down(".nicEdit-main")&&e.up(".form-line")&&JotForm.isVisible(e.up(".form-line"))?!0:e.style.display=="none"||e.style.visibility=="hidden"?!1:JotForm.isVisible(e.parentNode):!1},sectionHasVisibleiFrameWidgets:function(e){var t=e.select(".custom-field-frame"),n=!1;t.each(function(e){if(JotForm.isVisible(e)){n=!0;throw $break}});return n},enableDisableButtonsInMultiForms:function(){var e=$$(".form-submit-button");e.each(function(e){e.up("ul.form-section")&&(e.up("ul.form-section").style.display=="none"?e.disable():e.className.indexOf("disabled")==-1&&!e.hasClassName("conditionallyDisabled")&&e.enable())})},enableButtons:function(){setTimeout(function(){$$(".form-submit-button").each(function(e){e.hasClassName("conditionallyDisabled")||e.enable();e.innerHTML=e.oldText})},60)},disableButtons:function(){setTimeout(function(){$$(".form-submit-button").each(function(e){e.innerHTML=JotForm.texts.pleaseWait;e.addClassName("lastDisabled");e.disable()})},60)},setButtonActions:function(){$$(".form-submit-button").each(function(e){e.oldText=e.innerHTML;e.enable();getQuerystring("qp")===""&&e.observe("click",function(){setTimeout(function(){if(!$$(".form-error-message")[0]&&!$$(".form-textarea-limit-indicator-error")[0]){var e=$$(".form-submit-button");e.each(function(e){e.innerHTML=JotForm.texts.pleaseWait;e.addClassName("lastDisabled");e.disable()})}},50)})});$$(".form-submit-reset").each(function(e){e.onclick=function(){if(!confirm(JotForm.texts.confirmClearForm))return!1;if(/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())&&$("coupon-button")){setTimeout(function(){$("payment_total")&&JotForm.totalCounter(JotForm.prices)},40);return!0}$$(".form-line-error").each(function(e){e.removeClassName("form-line-error")});$$(".form-error-message",".form-button-error").each(function(e){e.remove()});$$(".form-textarea-limit-indicator > span").each(function(e){var t=e.innerHTML;e.innerHTML=t.replace(t.substring(0,t.indexOf("/")),"0")});$$("span[id^=grade_point_]").each(function(e){e.innerHTML=0});$$(".form-grading-error").each(function(e){e.innerHTML=""});var e=$$("form")[0].readAttribute("data-autofill");e&&setTimeout(function(){for(var e in JotForm.defaultValues){var t=$(e);t&&(t.type=="radio"||t.type=="checkbox")&&(t.checked=!0)}var n=$$("form").first().readAttribute("id")+$$("form").first().readAttribute("name"),r=AutoFill.getInstance(n);r&&r.saveAllData()},40);setTimeout(function(){$$(".custom-hint-group").each(function(e){e.hasContent=e.value&&e.value.replace(/\n/gim,"<br>")!=e.readAttribute("data-customhint")?!0:!1;e.showCustomPlaceHolder()})},30);setTimeout(function(){$$(".nicEdit-main").each(function(e){var t=e.up(".form-line").down("textarea");if(t){t.hasClassName("custom-hint-group")&&!t.hasContent?e.setStyle({color:"#babbc0"}):e.setStyle({color:""});e.innerHTML=t.value}})},40);setTimeout(function(){$("coupon-button")&&$("coupon-button").triggerEvent&&$("coupon-button").triggerEvent("click");$("payment_total")&&JotForm.totalCounter(JotForm.prices)},40);setTimeout(function(){$$("input.form-widget").each(function(e){e.value="";e.fire("widget:clear",{qid:parseInt(e.id.split("_")[1])})})},40);setTimeout(function(){$$(".currentDate").each(function(e){var t=e.id.replace(/day_/,"");JotForm.formatDate({date:new Date,dateField:$("id_"+t)})});$$(".currentTime").each(function(e){if(e.up(".form-line")){var t=e.up(".form-line").id.replace("id_","");$("hour_"+t)?JotForm.displayLocalTime("hour_"+t,"min_"+t,"ampm_"+t):JotForm.displayLocalTime("input_"+t+"_hourSelect","input_"+t+"_minuteSelect","input_"+t+"_ampm")}})},40);setTimeout(function(){JotForm.runAllConditions()},50)}});$$(".form-submit-print").each(function(e){e.observe("click",function(){$(e.parentNode).hide();var t=[],n=[];$$(".form-textarea, .form-textbox").each(function(e){e.type||(e.value=e.value||"0");var r;(r=e.next(".date-separate"))&&r.hide();var i="";e.value.length<e.size&&(i="width:"+e.size*9+"px;");if(e.id.indexOf("_area")!=-1||e.id.indexOf("_phone")!=-1||e.id.indexOf("_country")!=-1&&e.readAttribute("type")=="tel")i+=" display:inline-block;";e.hasClassName("form-textarea")&&"nicEditors"in window&&$$("#cid_"+e.id.split("_")[1]+" > div:nth-child(1)").each(function(r){if(r.readAttribute("unselectable")=="on"){for(var i=0;i<nicEditors.editors.length;i++)nicEditors.editors[i].nicInstances[0].saveContent();$$("#cid_"+e.id.split("_")[1]+" > div").each(function(e){e.hide();t.push(e)});n.push(e)}})});window.print();$(e.parentNode).show()})})},hasHiddenValidationConflicts:function(e){var t=e.up("li.form-line");return t&&(t.hasClassName("form-field-hidden")||t.up("ul.form-section").hasClassName("form-field-hidden"))},initGradingInputs:function(){var e=this;$$(".form-grading-input").each(function(t){t.observe("blur",function(){t.validateGradingInputs()});t.observe("keyup",function(){t.validateGradingInputs()});t.validateGradingInputs=function(){var t=this,n=t.id.replace(/input_(\d+)_\d+/,"$1"),r=0,i=$(t.parentNode.parentNode),s=/^(\d+[\.]?)+$/,o=!1;t.errored=!1;i.select(".form-grading-input").each(function(e){if(e.value&&!s.test(e.value)){o=!0;throw $break}r+=parseFloat(e.value)||0});if(e.hasHiddenValidationConflicts(t))return JotForm.corrected(t);if(o)return JotForm.errored(t,JotForm.texts.numeric);if($("grade_total_"+n)){$("grade_error_"+n).innerHTML="";var u=parseFloat($("grade_total_"+n).innerHTML);$("grade_point_"+n).innerHTML=r;if(r>u){$("grade_error_"+n).innerHTML=" "+JotForm.texts.lessThan+" <b>"+u+"</b>.";return JotForm.errored(t,JotForm.texts.gradingScoreError+" "+u)}return JotForm.corrected(t)}return JotForm.corrected(t)}})},initSpinnerInputs:function(){var e=this;$$(".form-spinner-input").each(function(t){t.observe("blur",function(){t.validateSpinnerInputs()}).observe("change",function(){t.validateSpinnerInputs()});var n=t.up("table.form-spinner"),r=n.select("td.form-spinner-up")[0],i=n.select("td.form-spinner-down")[0];r.observe("click",function(e){t.validateSpinnerInputs()});i.observe("click",function(e){t.validateSpinnerInputs()});t.validateSpinnerInputs=function(){var t=this,n=t.id.replace(/input_(\d+)_\d+/,"$1"),r=/^(-?\d+[\.]?)+$/,i=/^([\.]\d+)+$/,s=t.value||0;t.errored=!1;if(e.hasHiddenValidationConflicts(t))return JotForm.corrected(t);if(s&&!r.test(s)&&!i.test(s))return JotForm.errored(t,JotForm.texts.numeric);if(t.hasClassName("disallowDecimals")&&s%1!=0)return JotForm.errored(t,JotForm.texts.disallowDecimals);var o=parseInt(t.readAttribute("data-spinnermin"))||!1,u=parseInt(t.readAttribute("data-spinnermax"))||!1;return o&&s<o?JotForm.errored(t,JotForm.texts.inputCarretErrorA+" "+o):u&&s>u?JotForm.errored(t,JotForm.texts.inputCarretErrorB+" "+u):JotForm.corrected(t)}})},initNumberInputs:function(){var e=this;$$(".form-number-input").each(function(e){e.observe("blur",function(){e.validateNumberInputs()}).observe("change",function(){e.validateNumberInputs()}).observe("keyup",function(){e.validateNumberInputs()}).observe("keypress",function(t){if(t.metaKey||t.ctrlKey)return;var n=[8,9,13,35,36,37,39],r=n.join(",").match(new RegExp(t.which));if(!t.which||48<=t.which&&t.which<=57||46==t.which||45==t.which||43==t.which||r){if(t.which==8||t.which==0||t.which==13||!(parseInt(this.value.length)>=parseInt(e.readAttribute("maxlength"))||t.which<45||t.which>57))return;t.preventDefault()}else t.preventDefault()});e.validateNumberInputs=function(){var e=this,t=e.id.replace(/input_(\d+)_\d+/,"$1"),n=/^(-?\d+[\.]?)+$/,r=/^([\.]\d+)+$/;e.errored=!1;if(!JotForm.isVisible(e))return JotForm.corrected(e);if(e.value&&!n.test(e.value)&&!r.test(e.value)&&e.hinted!==!0)return JotForm.errored(e,JotForm.texts.numeric);var i=parseInt(e.readAttribute("data-numbermin")),s=parseInt(e.readAttribute("data-numbermax")),o=parseInt(e.readAttribute("maxlength"));if(o&&e.value&&e.value.length>o)return JotForm.errored(e,JotForm.texts.maxDigitsError+" "+o);if((i||i==0)&&parseInt(e.value)<i)return JotForm.errored(e,JotForm.texts.inputCarretErrorA+" "+i);if((s||s==0)&&parseInt(e.value)>s)return JotForm.errored(e,JotForm.texts.inputCarretErrorB+" "+s);var u=!1;e.up(".form-matrix-table")&&e.up(".form-matrix-table").select("input").each(function(t){t!==e&&t.hasClassName("form-validation-error")&&(u=!0)});if(!u)return JotForm.corrected(e)}})},backStack:[],currentSection:!1,autoNext:function(e){if(!$("cid_"+e))return;var t=$("cid_"+e).previous();if(!t)return;var n=t.readAttribute("data-type");if(n!=="control_radio"&&n!=="control_dropdown")return;t.observe("change",function(){var t=$("cid_"+e).down(".form-pagebreak-next");if(t&&t.triggerEvent){t.focus();t.setStyle({fontWeight:"bold"});setTimeout(function(){t.setStyle({fontWeight:"inherit"});t.triggerEvent("click")},800)}})},handlePages:function(){var e=this,t=[],n;if($$(".form-label-left").length>0){var r=parseInt($$(".form-label-left")[0].getStyle("width")),i=parseInt($$(".form-all")[0].getStyle("width")),s=r>i/2?i/2:r;$$(".form-pagebreak-back-container").each(function(e){e.style.width===""&&(e.style.width=s-14+"px")})}$$(".form-pagebreak").each(function(n,r){function s(e){var e=e?e:event?event:null,t=e.target?e.target:e.srcElement?e.srcElement:null;if(e.keyCode==13&&["text","radio","checkbox","select-one","select-multiple"].include(t.type))return!1;(e.keyCode==13||e.which==32)&&e.target.hasClassName("form-pagebreak-next")&&e.target.triggerEvent&&
e.target.triggerEvent("mousedown")}var i=$(n.parentNode.parentNode);r>=1?i.hide():JotForm.currentSection=i;t.push(i);i.pagesIndex=r+1;document.onkeypress=s;var o=function(){if(typeof FormTranslation!="undefined"&&FormTranslation.properties&&FormTranslation.properties.firstPageOnly){var e=$$(".language-dd").length>0?$$(".language-dd").first():!1;if(!e)return;JotForm.currentSection===t.first()?e.show():e.hide()}};i.select(".form-pagebreak-next").invoke("observe","click",function(){if(JotForm.saving)return;if(JotForm.validateAll(JotForm.getForm(i),i)||getQuerystring("qp")!==""){window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView","*");if(!JotForm.nextPage){var t=$$(".page-section");for(var n=t.indexOf(i);n<t.length;n++){if(JotForm.hidePages[parseInt(n,10)+2]===!0)continue;JotForm.nextPage=t[parseInt(n,10)+1];break}}if(JotForm.nextPage){JotForm.backStack.push(i.hide());JotForm.currentSection=JotForm.nextPage.show();e.noJump||JotForm.currentSection.scrollIntoView(!0);JotForm.enableDisableButtonsInMultiForms()}else if(i.next()){JotForm.backStack.push(i.hide());JotForm.currentSection=i.next().show();!e.noJump&&window.parent==window&&JotForm.currentSection.scrollIntoView(!0);JotForm.enableDisableButtonsInMultiForms()}JotForm.nextPage=!1;JotForm.saveForm&&JotForm.hiddenSubmit(JotForm.getForm(i));JotForm.iframeHeightCaller();JotForm.runAllCalculations(!0);o();JotForm.currentSection&&JotForm.currentSection.select(".form-html").each(function(e){e.innerHTML.match(/google.*maps/gi)&&(e.innerHTML=e.innerHTML)})}else try{$$(".form-button-error").invoke("remove");$$(".form-pagebreak-next").each(function(e){var t=new Element("div",{className:"form-button-error"});t.insert(JotForm.texts.generalPageError);$(e.parentNode.parentNode).insert(t)})}catch(r){}});i.select(".form-pagebreak-back").invoke("observe","click",function(){window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView","*");if(JotForm.saving)return;i.hide();var t=$$(".page-section"),n=JotForm.backStack.pop();while(JotForm.backStack.length>0){var r=t.indexOf(n)+1;if(JotForm.hidePages[r]===!0){n=JotForm.backStack.pop();continue}break}JotForm.currentSection=n.show();!e.noJump&&window.parent==window&&JotForm.currentSection.scrollIntoView(!0);JotForm.nextPage=!1;JotForm.enableDisableButtonsInMultiForms();JotForm.saveForm&&JotForm.hiddenSubmit(JotForm.getForm(i));$$(".form-button-error").invoke("remove");JotForm.iframeHeightCaller();o();setTimeout(function(){JotForm.runAllCalculations(!0)},10)})});if(t.length>0){var o=$$(".form-section:not([id^=section_])");o.length>0&&(n=o[o.length-1]);if(n){n.pagesIndex=o.length;t.push(n);n.hide();var u=new Element("li",{className:"form-input-wide"}),a=new Element("div",{className:"form-pagebreak"}),f=new Element("div",{className:"form-pagebreak-back-container"}),l=$$(".form-pagebreak-back-container")[0].select("button")[0];l.observe("click",function(){if(JotForm.saving)return;n.hide();JotForm.nextPage=!1});f.insert(l);a.insert(f);u.insert(a);n.insert(u)}}},jumpToPage:function(){var e=document.get.jumpToPage,t=$$(".form-section:not([id^=section_])");if(!(e&&e>1)||e>t.length)return;t[0].hide();t[e-1].show();e>2&&(JotForm.backStack=t.splice(0,e-1));JotForm.runAllCalculations(!0)},handleFormCollapse:function(){var e=this,t=!1,n=0;$$(".form-collapse-table").each(function(r){var i=$(r.parentNode.parentNode);if(i.className=="form-section-closed")i.closed=!0;else if(i.select(".form-collapse-hidden").length<0){t=i;n++}r.observe("click",function(){if(i.closed){i.setStyle("overflow:visible; height:auto");var s=i.getHeight();if(t&&t!=i&&n<=1){t.className="form-section-closed";t.shift({height:60,duration:.5});t.select(".form-collapse-right-show").each(function(e){e.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")});t.closed=!0}t=i;i.setStyle("overflow:hidden; height:60px");setTimeout(function(){i.scrollTop=0;i.className="form-section"},1);i.shift({height:s,duration:.5,onStart:function(){i.select(".form-line[data-type=control_widget]").each(function(e){var t=e.id.split("_").last();JotForm.showWidget(t)})},onEnd:function(t){t.scrollTop=0;t.setStyle("height:auto;");e.noJump||t.scrollIntoView()},onStep:function(e){window.parent&&window.parent!=window&&window.parent.postMessage("setHeight:"+$$("body")[0].getHeight(),"*")}});i.select(".form-collapse-right-hide").each(function(e){e.addClassName("form-collapse-right-show").removeClassName("form-collapse-right-hide")});i.closed=!1;if(r.errored){r.select(".form-collapse-mid")[0].setStyle({color:""}).select("img")[0].remove();r.errored=!1}}else{i.scrollTop=0;i.shift({height:60,duration:.5,onEnd:function(e){e.className="form-section-closed"},onStep:function(e){window.parent&&window.parent!=window&&window.parent.postMessage("setHeight:"+$$("body")[0].getHeight(),"*")}});t&&t.select(".form-collapse-right-show").each(function(e){e.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")});i.closed=!0}setTimeout(function(){e.handleIFrameHeight()},510)})})},handleAuthNet:function(){var e=$$(".jotform-form")[0],t=$$('input[name="simple_fpc"]')[0].value;Event.observe(e,"submit",function(e){JotForm.corrected($$(".cc_firstName")[0]);if(JotForm.isEditMode())return!0;if(JotForm.isPaymentSelected()&&JotForm.paymentTotal>0){var n;$$("#id_"+t+' [class*="cc"]').each(function(e){if(!e.getValue()){n=JotForm.texts.ccMissingDetails;throw $break}});if(n){Event.stop(e);setTimeout(function(){JotForm.errored($$(".cc_firstName")[0],n);JotForm.enableButtons()},500)}else JotForm.corrected($$(".cc_firstName")[0])}})},handlePaypalPro:function(){if($("creditCardTable")){var e=$$(".jotform-form")[0],t=$$('input[name="simple_fpc"]')[0].value;Event.observe(e,"submit",function(e){if(JotForm.isEditMode())return!0;if(JotForm.isPaymentSelected()&&JotForm.paymentTotal>0){var n="";JotForm.corrected($$(".paymentTypeRadios")[0]);!$$(".paymentTypeRadios")[0].checked&&!$$(".paymentTypeRadios")[1].checked&&(n="You must select a payment method");$("input_"+t+"_paymentType_credit").checked&&$$("#id_"+t+' [class*="cc"]').each(function(e){if(!e.getValue()){n="All fields are required";throw $break}});if(n){JotForm.errored($$(".paymentTypeRadios")[0],n);Event.stop(e)}else JotForm.corrected($$(".paymentTypeRadios")[0])}});$$(".paymentTypeRadios").each(function(e){e.observe("click",function(){e.checked&&e.value==="express"&&$("creditCardTable").hide();e.checked&&e.value==="credit"&&(JotForm.paymentTotal>0||Object.keys(JotForm.discounts).length===0)&&$("creditCardTable").show();JotForm.corrected($$(".paymentTypeRadios")[0]);JotForm.togglePaypalButtons(e.checked&&e.value==="express")})})}},description:function(e,t){if(t=="20")return;var n=!1;if(!$(e)){var r=e.replace(/[^\d]/gim,"");if($("id_"+r)){e=$("id_"+r);n=!0}else{if(!$("section_"+r))return;e=$("section_"+r);n=!0}}$(e).setSliderValue&&(e=$($(e).parentNode));var i=JotForm.getContainer(e);if(!i)return;var s=!1,o=new Element("div",{className:"form-description"}),u=new Element("div",{className:"form-description-arrow"}),a=new Element("div",{className:"form-description-arrow-small"}),f=new Element("div",{className:"form-description-content"}),l;if("desc"in document.get&&document.get.desc=="v2"){s=!0;i.insert(l=new Element("div",{className:"form-description-indicator"}));o.addClassName("right")}f.insert(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"));o.insert(u).insert(a).insert(f).hide();i.insert(o);i.getWidth()/2<o.getWidth()&&o.setStyle("right: -"+(i.getWidth()-(s?100:20))+"px");if(s){var c=l.measure("height");u.setStyle("top:"+(c/2-20)+"px");a.setStyle("top:"+(c/2-17)+"px");$(i).mouseEnter(function(){i.setStyle("z-index:10000");if(!i.hasClassName("form-line-active")){i.addClassName("form-line-active");i.__classAdded=!0}o.show()},function(){if(i.__classAdded){i.removeClassName("form-line-active");i.__classAdded=!1}i.setStyle("z-index:0");o.hide()});$(e).observe("keydown",function(){i.setStyle("z-index:0");o.hide()})}else if(n)$(e).mouseEnter(function(){i.setStyle("z-index:10000");o.show()},function(){i.setStyle("z-index:0");o.hide()});else{$(i).mouseEnter(function(){i.setStyle("z-index:10000");o.show()},function(){i.setStyle("z-index:0");o.hide()});$(e).observe("keyup",function(){i.setStyle("z-index:0");o.hide()});$(e).observe("focus",function(){i.setStyle("z-index:10000");o.show()});$(e).observe("blur",function(){i.setStyle("z-index:0");o.hide()})}},validateAll:function(e,t){var n=function(){window.location.href.indexOf("stripeDebug")!==-1&&console.log.apply(console,arguments)};if(getQuerystring("qp")!=="")return!0;var r=!0;t==undefined&&(t=$$("body")[0]);t.select(".form-textarea-limit-indicator-error").each(function(e){if(JotForm.isVisible(e)){n("set to false because .form-textarea-limit-indicator-error");r=!1}});if(t.select(".form-datetime-validation-error").first()){n("set to false because .form-datetime-validation-error");r=!1}var i=t.select(".form-spinner-input, .form-number-input, .form-grading-input");i.length>0&&i.each(function(e){var t=e.id.split("_")[1],n=e.readAttribute("data-type");switch(n){case"input-number":r=e.validateNumberInputs()?r:!1;break;case"input-spinner":r=e.validateSpinnerInputs()?r:!1;break;case"input-grading":r=e.validateGradingInputs()?r:!1}});if(window.signatureForm){n("signature form");var s=jQuery(".pad");for(var o=0;o<s.length;o++){var u=s[o];if(jQuery(u).attr("data-required")==="true"&&jQuery(u).parent().parent().parent().is(":visible")){var a=jQuery(u).parent().parent();if(jQuery(u).jSignature("getData","base30")[1].length==0&&!jQuery(u).hasClass("edit-signature")){r=!1;if(a.find(".form-line-error").length==0){var f=JotForm.url.search("https")==-1?"http://cdn.jotfor.ms/":"https://cdn.jotfor.ms/";a.append('<div class="form-line-error" style="float:left;margin-top:5px;"><div class="form-error-message"><img src="'+f+'images/exclamation-octagon.png" align="left" style="margin-right:5px;">'+'<div class="form-error-arrow">'+'<div class="form-error-arrow-inner"></div>'+"</div>"+JotForm.texts.required+"</div></div>")}}else a.find(".form-line-error").remove()}}}if(window.JCFServerCommon!==undefined){n("widgets detected");var l=$$(".widget-required, .widget-errored");l.each(function(e){if(JotForm.isVisible(e)){var t=e.hasClassName("widget-replaced");t&&e.errored&&JotForm.corrected(e);e.up(".form-section").visible()&&e.getValue().length===0&&(r=t?JotForm.errored(e,JotForm.texts.required):!1)}})}var c="";e&&e.id&&(c="#"+e.id+" ");$$(c+'*[class*="validate"]').each(function(e){if(JotForm.payment&&e.up(".form-line")){var t=e.up(".form-line").getAttribute("data-type");if(t=="control_"+JotForm.payment&&e.up(".form-line").select(e.tagName+'[class*="validate"]').first()!=e)return}n("looping inputs with validation :");n(e);if(e.validateInput===undefined){n("no required continuing");return}if(!e.validateInput||!e.validateInput()){r=JotForm.hasHiddenValidationConflicts(e);n("ret setted "+r)}});n("final ret value "+r);return r},errored:function(e,t){e=$(e);if(e.errored)return!1;e.runHint&&e.runHint();if(this.url.search("https")==-1)var n="http://cdn.jotfor.ms/";else var n="https://cdn.jotfor.ms/";if(JotForm.isCollapsed(e)){var r=JotForm.getCollapseBar(e);if(!r.errored){r.select(".form-collapse-mid")[0].insert({top:'<img src="'+n+'images/exclamation-octagon.png" align="bottom" style="margin-right:5px;"> '}).setStyle({color:"red"});r.errored=!0}}var i=JotForm.getContainer(e);e.errored=!0;e.addClassName("form-validation-error");i.addClassName("form-line-error");var s=i;s=i.select(".form-input")[0];s||(s=i.select(".form-input-wide")[0]);s||(s=i);s.select(".form-error-message").invoke("remove");s.insert((new Element("div",{className:"form-error-message"})).insert('<img src="'+n+'images/exclamation-octagon.png" align="left" style="margin-right:5px;"> '+t).insert((new Element("div",{className:"form-error-arrow"})).insert(new Element("div",{className:"form-error-arrow-inner"}))));JotForm.iframeHeightCaller();return!1},corrected:function(e){e=$(e);e.errored=!1;var t=JotForm.getContainer(e);if(!t)return!0;t.select(".form-validation-error").invoke("removeClassName","form-validation-error");t.removeClassName("form-line-error");t.select(".form-error-message").invoke("remove");if(JotForm.isCollapsed(e)){var n=JotForm.getCollapseBar(e);if(n.errored&&n.up(".form-section-closed")&&n.up(".form-section-closed").select(".form-validation-error").length==0){n.select(".form-collapse-mid")[0].setStyle({color:""}).select("img")[0].remove();n.errored=!1}}setTimeout(function(){$$(".form-error-message").length==0&&JotForm.hideButtonMessage()},100);JotForm.iframeHeightCaller();return!0},hideButtonMessage:function(){$$(".form-button-error").invoke("remove")},showButtonMessage:function(){this.hideButtonMessage();$$(".form-submit-button").each(function(e){var t=new Element("div",{className:"form-button-error"});t.insert("<p>"+JotForm.texts.generalError+"</p>");$(e.parentNode.parentNode).insert(t)})},disableGoButton:function(){(navigator.appVersion.indexOf("iPhone")!=-1||navigator.appVersion.indexOf("iPad")!=-1||navigator.appVersion.indexOf("Android")!=-1)&&$$("input").each(function(e){e.observe("keypress",function(e){var t=e.keyCode?e.keyCode:e.which;t===13&&e.preventDefault()})})},validator:function(){if(this.debugOptions&&this.debugOptions.stopValidations){this.info("Validations stopped by debug parameter");return!0}var e=this;$A(JotForm.forms).each(function(e){if(e.validationSet)return;e.validationSet=!0;e.observe("submit",function(t){try{$("payment_total_checksum")&&($("payment_total_checksum").value=JotForm.paymentTotal);if($$(".form-submit-button")&&$$(".form-submit-button").length>0){var n=!1;$$(".form-submit-button").each(function(e){if(JotForm.isVisible(e.parentNode)){n=!0;return}});if(!n){JotForm.enableButtons();t.stop()}}if(!JotForm.validateAll(e)){JotForm.enableButtons();JotForm.showButtonMessage();if(JotForm.onSubmissionError)if(JotForm.onSubmissionError=="jumpToSubmit"){var r=[];$$(".form-submit-button").each(function(e){JotForm.isVisible(e)&&r.push(e)});r.length>0&&(r[r.length-1].up(".form-line")?r[r.length-1].up(".form-line").scrollIntoView(!1):r[r.length-1].scrollIntoView(!1))}else JotForm.onSubmissionError=="jumpToFirstError"&&setTimeout(function(){var e=$$(".form-error-message").first();if(e){JotForm.isCollapsed(e)&&JotForm.getCollapseBar(e).run("click");e.up(".form-line").scrollIntoView()}},100);$$(".custom-hint-group").each(function(e){e.showCustomPlaceHolder()});t.stop();return}$$(".form-radio-other,.form-checkbox-other").each(function(e){!e.checked&&e.next()&&e.next().disable()});JotForm.runAllCalculations(!0);$$("textarea.form-textarea:first-child").each(function(e){if(e.value){function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}e.value=t(e.value);textEl=e.clone();textEl.writeAttribute("disabled","true");textEl.innerHTML=e.value;e.up().appendChild(textEl);e.hide()}});$$("input, select, textarea").length>900&&$$(".form-matrix-table").each(function(e){var t={};e.select("input, select").each(function(e){var n=e.id.split("_"),r=n[2],i=n[3];if(e.type=="radio")e.checked?t[r]=e.value:r in t||(t[r]=!1);else{r in t||(t[r]={});e.type=="checkbox"?t[r][i]=e.checked?e.value:!1:t[r][i]=e.value}e.writeAttribute("disabled","true")});try{var n=e.down("input, select").readAttribute("name").split("[")[0],r=(new Element("textarea")).setStyle({display:"none"});e.insert({after:r});r.value=JSON.stringify(t);r.writeAttribute("name",n)}catch(i){console.log(i)}});JotForm.isEncrypted&&JotForm.encryptAll(t,function(t){t&&e.submit()});if(JotForm.autoFillDeployed&&typeof window.localStorage!="undefined"){var i=$$("form").first().readAttribute("id")+$$("form").first().readAttribute("name");AutoFill.getInstance(i).stopSavingData();window.localStorage.clear()}}catch(s){JotForm.error(s);t.stop();return}$$(".time-dropdown").each(function(e){e.enable()});$$(".form-checkbox, .form-radio").each(function(e){e.enable()});$$(".conditionallyDisabled").each(function(e){e.enable()});JotForm.clearFieldOnHide!=="dontClear"&&$$(".form-field-hidden input",".form-field-hidden select",".form-field-hidden textarea").each(function(e){if(e.name=="simple_fpc")return;if(document.get.mode=="edit"||document.get.mode=="inlineEdit")return;e.tagName=="INPUT"&&["checkbox","radio"].include(e.type)?e.checked=!1:e.clear()});if(JotForm.compact&&JotForm.imageSaved==0){t.stop();window.parent.saveAsImage();$(document).observe("image:loaded",function(){var t;$(document.body).insert(t=(new Element("div")).setStyle("position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);"));t.insert('<table height="100%" width="100%"><tr><td align="center" valign="middle" style="font-family:Verdana;color:#fff;font-size:16px;">Please Wait...</td></tr></table>');setTimeout(function(){e.submit()},1e3)});return}});$$("#"+e.id+' *[class*="validate"]').each(function(e){JotForm.setFieldValidation(e)});$$(".form-upload").each(function(e){try{var t=!!e.validateInput,n=e.validateInput||Prototype.K;e.validateInput=function(){e.errored=!1;if(n()!==!1){if(!e.files)return!0;var t=e.readAttribute("accept")||e.readAttribute("data-file-accept")||e.readAttribute("file-accept")||"",r=e.readAttribute("maxsize")||e.readAttribute("data-file-maxsize")||e.readAttribute("file-maxsize")||"",i=e.readAttribute("minsize")||e.readAttribute("data-file-minsize")||e.readAttribute("file-minsize")||"",s=t.strip().toLowerCase().split(/\s*\,\s*/gim),o=parseInt(r,10)*1024,u=parseInt(i,10)*1024,a=e.files[0];if(!a)return!0;a.fileName||(a.fileName=a.name);var f="";JotForm.getFileExtension(a.fileName)&&(f=JotForm.getFileExtension(a.fileName));if(t!="*"&&!s.include(f)&&!s.include(f.toLowerCase()))return JotForm.errored(e,JotForm.texts.uploadExtensions+"<br/>"+t);var l=e.readAttribute("data-imagevalidate")||!1,c="jpeg, jpg, png, gif, bmp";if((s.include(f)||s.include(f.toLowerCase()))&&l&&(l==="yes"||l==="true")&&(c.include(f)||c.include(f.toLowerCase()))&&typeof window.FileReader!="undefined"){var h=new FileReader;h.onloadend=function(t){function n(e){var t="",n=new Uint8Array(e),r=n.length;for(var i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}var r={filename:a.name,size:a.size,binary:n(t.target.result)};ImageInfo.loadInfo(r,function(){var t=ImageInfo.getAllFields(a.name);if(t.format==="UNKNOWN")return JotForm.errored(e,"You have uploaded an invalid image file type.")})};h.readAsArrayBuffer(a)}a.fileSize||(a.fileSize=a.size);return a.fileSize>o&&o!==0?JotForm.errored(e,JotForm.texts.uploadFilesize+" "+r+"Kb"):a.fileSize<u?JotForm.errored(e,JotForm.texts.uploadFilesizemin+" "+i+"Kb"):JotForm.corrected(e)}};if(!t){e.addClassName("validate[upload]");e.observe("blur",e.validateInput)}}catch(r){JotForm.error(r)}})})},dateFromField:function(e){var t="";if(e.indexOf("-")>-1||e.indexOf("+")>-1){t=e.split(/[\+\-]/)[1];t=e.indexOf("-")>-1?"-"+t:""+t;e=e.split(/[\+\-]/)[0]}e=e.replace(/[{}]/g,"");if(!$("year_"+e)||!$("year_"+e).value)return!1;var n=$("year_"+e).value,r=$("month_"+e).value,i=$("day_"+e).value,s=new Date(n,r-1,i);t.length&&s.setDate(s.getDate()+parseInt(t,10));return s},setFieldValidation:function(e){var t=this,n={email:/^\S[a-z0-9\/.!#$%&'*+\/=?\^_`{|}~\-]*(?:\.[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])$/i,alphanumeric:/^[\u00C0-\u1FFF\u2C00-\uD7FFa-zA-Z0-9\s]+$/,numeric:/^(-?\d+[\.]?)+$/,numericDotStart:/^([\.]\d+)+$/,currency:/^-?[\$\£\€]?\d*,?\d*,?\d*(\.\d\d)?¥?$/,alphabetic:/^[\u00C0-\u1FFF\u2C00-\uD7FFa-zA-Z\s]+$/,cyrillic:/^[абвгдеёжзийклмнопрстуфхцчшщьыъэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЬЫЪЭЮЯ\s]*$/,url:/(http|ftp|https){0,1}:{0,1}[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/},r=e.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/);e.validateInput=function(i){if(document.get.ignoreValidation&&document.get.ignoreValidation==="true")return!0;if(!JotForm.isVisible(e))return!0;if(JotForm.getContainer(e).getAttribute("data-type")==="control_datetime"&&!JotForm.getContainer(e).down('input[id*="month_"]').dateTimeCheck(!1))return!1;!$(e.parentNode).hasClassName("form-matrix-values")&&!e.hasClassName("form-subproduct-option")&&!e.id.match(/_quantity_/)&&!e.id.match(/_custom_/)&&JotForm.corrected(e);var s=r;if(e.hinted===!0){e.clearHint();setTimeout(function(){e.hintClear()},150)}if(e.readAttribute("data-type")==="input-spinner"&&e.value)return e.validateSpinnerInputs();if(e.readAttribute("data-type")==="input-grading"&&e.value)return e.validateGradingInputs();if(e.readAttribute("data-type")==="input-number"&&e.value)return e.validateNumberInputs();if(e.readAttribute("data-min-amount"))return e.validateMinimum();if(e.up(".form-line").down(".form-textarea-limit-indicator-error")){e.triggerEvent("change");return}if(s.include("disallowFree")){var o=["gmail","aim","outlook","hotmail","yahoo","mail","inbox"];for(var u=0;u<o.length;u++)if(e.value.toLowerCase().indexOf("@"+o[u]+".")>-1)return JotForm.errored(e,JotForm.texts.freeEmailError)}if(s.include("minSelection")){var a=parseInt(e.readAttribute("data-minSelection")),f=0;e.up(".form-line").select("input[type=checkbox]").each(function(e){e.checked&&f++});if(f>0&&f<a)return JotForm.errored(e,JotForm.texts.minSelectionsError+a+".")}if(s.include("maxSelection")){var l=parseInt(e.readAttribute("data-maxSelection")),f=0;e.up(".form-line").select("input[type=checkbox]").each(function(e){e.checked&&f++});if(f>l)return JotForm.errored(e,JotForm.texts.maxSelectionsError+l+".")}if(s.include("disallowPast")){var c=e.id.split("_").last(),h=JotForm.getDateValue(c).split("T")[0],p=new Date,d=p.getMonth()+1<10?"0"+(p.getMonth()+1):p.getMonth()+1,v=p.getDate()<10?"0"+p.getDate():p.getDate(),m=p.getFullYear()+"-"+d+"-"+v;if(JotForm.checkValueByOperator("before",JotForm.strToDate(m),JotForm.strToDate(h)))return JotForm.errored(e,JotForm.texts.pastDatesDisallowed)}if(s.include("limitDate"))try{var c=e.id.split("_").last(),g=JotForm.dateLimits[c];if(g!==!1&&$("year_"+c).value!=""&&$("month_"+c).value!=""&&$("day_"+c).value!=""){if("custom"in g&&g.custom!==!1&&Array.isArray(g.custom))for(var y=0;y<g.custom.length;y++){if(!g.custom[y])continue;var b=$("year_"+c).value,d=JotForm.addZeros($("month_"+c).value,2),v=JotForm.addZeros($("day_"+c).value,2);if(g.custom[y].indexOf("{")>-1){var w=JotForm.dateFromField(g.custom[y]);w=JotForm.addZeros(w.getFullYear(),2)+"-"+JotForm.addZeros(w.getMonth()+1,2)+"-"+JotForm.addZeros(w.getDate(),2);if(w===b+"-"+d+"-"+v)return JotForm.errored(e,JotForm.texts.dateLimited);return}if(g.custom[y]===b+"-"+d+"-"+v||typeof g.custom[y]=="string"&&g.custom[y].length===5&&g.custom[y]===d+"-"+v||typeof g.custom[y]=="string"&&g.custom[y].length===2&&g.custom[y]==v)return JotForm.errored(e,JotForm.texts.dateLimited)}var E=new Date($("year_"+c).value,$("month_"+c).value-1,$("day_"+c).value);if("ranges"in g&&g.ranges!==!1&&Array.isArray(g.ranges))for(var y=0;y<g.ranges.length;y++){if(!g.ranges[y]||g.ranges[y].indexOf(">")===-1)continue;var S=g.ranges[y].split(">"),x;if(S[0].indexOf("{")>-1)x=JotForm.dateFromField(S[0]);else{var T=S[0].split("-");x=new Date(T[0],parseInt(T[1])-1,T[2])}var N;if(S[1].indexOf("{")>-1)N=JotForm.dateFromField(S[1]);else{var C=S[1].split("-");N=new Date(C[0],parseInt(C[1])-1,C[2])}if(N){N.setDate(N.getDate()+1);if(E.getTime()>=x.getTime()&&E.getTime()<N.getTime())return JotForm.errored(e,JotForm.texts.dateLimited)}}var k=JotForm.getDayOfWeek(E);if("days"in g,k in g.days&&g.days[k]==0)return JotForm.errored(e,JotForm.texts.dateLimited);if("future"in g&&g.future===!1){var L=new Date;if(E>L)return JotForm.errored(e,JotForm.texts.dateLimited)}if("past"in g&&g.past===!1){var L=new Date,A=new Date;A.setDate(L.getDate()-1);if(E<A)return JotForm.errored(e,JotForm.texts.dateLimited)}if("start"in g&&g.start!=0&&g.start!=""){var T=g.start.split("-");if(T.length==3){var x=new Date(T[0],T[1]-1,T[2]);if(E<x)return JotForm.errored(e,JotForm.texts.dateLimited)}else if(g.start.indexOf("{")>-1){var x=JotForm.dateFromField(g.start);if(E<x)return JotForm.errored(e,JotForm.texts.dateLimited)}}if("end"in g&&g.end!=0&&g.end!=""){var C=g.end.split("-");if(C.length==3){var N=new Date(C[0],C[1]-1,C[2]);if(E>N)return JotForm.errored(e,JotForm.texts.dateLimited)}else if(g.end.indexOf("{")>-1){var N=JotForm.dateFromField(g.end);if(E>N)return JotForm.errored(e,JotForm.texts.dateLimited)}}}}catch(O){console.log(O)}if(s.include("validateLiteDate")&&e.hasClassName("invalidDate")){var M=e.readAttribute("placeholder");return JotForm.errored(e,JotForm.texts.dateInvalid.replace("{format}",M))}if(s.include("Email_Confirm")){var _=e.id.replace(/.*_(\d+)(?:_confirm)?/gim,"$1");if($("input_"+_).value!=$("input_"+_+"_confirm").value)return JotForm.errored(e,JotForm.texts.confirmEmail);if($("input_"+_+"_confirm").value&&!n.email.test($("input_"+_+"_confirm").value))return JotForm.errored(e,JotForm.texts.email)}if(s.include("required")){if(e.tagName=="INPUT"&&e.readAttribute("type")=="file")return e.value.empty()&&!e.uploadMarked?JotForm.errored(e,JotForm.texts.required):JotForm.corrected(e);if(e.tagName!="INPUT"||e.readAttribute("type")!="radio"&&e.readAttribute("type")!="checkbox"){if(!(e.tagName!="INPUT"&&e.tagName!="SELECT"||!$(e.parentNode).hasClassName("form-matrix-values"))){var P={},R=!1,B=!1;e.up("table").select(e.tagName).each(function(e){e.name in P||(P[e.name]=!1);P[e.name]!==!0&&(P[e.name]=e.value&&!e.value.strip(" ").empty());P[e.name]===!0&&(R=!0);"value"in e&&e.value.strip(" ").empty()&&(B=!0)});return s.include("requireEveryRow")&&!$H(P).values().all()?JotForm.errored(e,JotForm.texts.requireEveryRow):s.include("requireOneAnswer")&&!R?JotForm.errored(e,JotForm.texts.requireOne):s.include("requireEveryCell")&&B?JotForm.errored(e,JotForm.texts.requireEveryCell):JotForm.corrected(e)}if(e.tagName!=="INPUT"&&e.tagName!=="SELECT"||!e.hasClassName("form-subproduct-option")){if(e.name&&e.name.include("["))try{var q=t.getContainer(e),z=q.select("input,select[name*="+e.name.replace(/\[.*$/,"")+"]").map(function(t){if(t.hasClassName("form-address-state")){var n=q.select(".form-address-country")[0].value;if(n!="United States"&&n!="Canada"&&n!=""){t.removeClassName("form-validation-error");t.__skipField=!0;return!1}}else t.__skipField&&(t.__skipField=!1);if(t.id.match(/_donation/))return t.getValue()==0;if(t.id.match(/input_[0-9]+_quantity_[0-9]+_[0-9]+/)){var r=$(t.id.replace("_quantity","").match(/input_[0-9]+_[0-9]+/)[0]),i=$$('[id*="'+t.id.match(/input_[0-9]*/)[0]+'"][type="'+r.getAttribute("type")+'"]');if(t.id.split("_").length===6)var s=$$('[id*="'+t.id.replace(/_[0-9]*_[0-9]*$/,"")+'"]');if(r.checked&&!s&&(isNaN(t.value)||t.value==0||t.value.empty())||!i.map(function(e){return e.checked}).any()||r.checked&&s&&!s.map(function(e){return e.value>0}).any()){t.addClassName("form-validation-error");return!0}}var o=t.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/);if(o.include("required")&&JotForm.isVisible(t)){if(t.value.empty()||t.value.strip()=="Please Select"){t.addClassName("form-validation-error");return!0}if(JotForm.getContainer(t).hasClassName("form-datetime-validation-error"))return JotForm.errored(e,"Enter a valid date")}t.removeClassName("form-validation-error");return!1});if(JotForm.payment&&q.getAttribute("data-type").match(JotForm.payment)&&["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid)return JotForm.corrected(e);if(z.any()){if(JotForm.payment&&q.getAttribute("data-type").match(JotForm.payment)&&JotForm.isPaymentSelected()&&JotForm.paymentTotal==0){console.log("I corrected this.");return JotForm.corrected(e)}return JotForm.errored(e,JotForm.texts.required)}}catch(O){JotForm.error(O);return JotForm.corrected(e)}}else if(e.hasClassName("form-subproduct-quantity")){var U=e.id.replace(/_[0-9]*_[0-9]*$/,"");if($(U.replace(/_quantity/,"")).checked)return $A($$('[id*="'+U+'"]')).map(function(e){return e.getSelected().value>0||e.value>0}).any()?JotForm.corrected(e):JotForm.errored(e,JotForm.texts.required)}}else if($(e.parentNode).hasClassName("form-matrix-values")){var D=e.readAttribute("type"),P={},H=!1,B=!1;e.up("table").select("input").each(function(e){e.name in P||(P[e.name]=!1);P[e.name]!==!0&&(P[e.name]=e.checked);P[e.name]===!0&&(H=!0);"value"in e&&e.value.strip(" ").empty()&&(B=!0)});if(!s.include("requireOneAnswer"))return s.include("requireEveryCell")&&B?JotForm.errored(e,JotForm.texts.requireEveryCell):$H(P).values().all()?JotForm.corrected(e):JotForm.errored(e,JotForm.texts.requireEveryRow);if(!H)return JotForm.errored(e,JotForm.texts.requireOne)}else{if(e.next()&&e.next().hasClassName("form-"+e.type+"-other-input")&&e.checked&&e.next().value=="")return JotForm.errored(e,JotForm.texts.required);var j=e.name.substr(0,e.name.indexOf("[")),F=j+"[other]",I=[];if(document.getElementsByName(F)[0]){I=$A(document.getElementsByName(j+"[]"));I[I.length]=document.getElementsByName(F)[0];if(!I.map(function(e){return e.checked}).any())return JotForm.errored(e,JotForm.texts.required)}else{var q=JotForm.getContainer(e);if(JotForm.payment&&q.getAttribute("data-type").match(JotForm.payment)){if(!$A(document.getElementsByName(e.name)).map(function(e){if(JotForm.isVisible(e))return e.readAttribute("type")==="checkbox"&&e.value.indexOf("_expanded")>-1?e.checked?$A($$("#"+e.id+"_subproducts .form-subproduct-quantity")).map(function(e){return e.getSelected().value>0||e.value>0}).any():!1:e.checked}).any())return e.hasClassName("paymentTypeRadios")?JotForm.errored(e,"Please select payment method."):JotForm.errored(e,JotForm.texts.required)}else if(q.select("input:checked").length===0)return JotForm.errored(e,JotForm.texts.required)}}if(e.__skipField)return JotForm.corrected(e);if(e.tagName.toLowerCase()==="textarea"&&e.hasClassName("form-custom-hint")&&!e.up("div").down(".nicEdit-main"))return JotForm.errored(e,JotForm.texts.required);if(e.hasClassName("form-textarea")&&e.up("div").down(".nicEdit-main")){var W=e.up("div").down(".nicEdit-main").innerHTML.stripTags().replace(/\s/g,"").replace(/&nbsp;/g,"");if(W.empty()||e.readAttribute("data-customhint")&&e.readAttribute("data-customhint")==e.up("div").down(".nicEdit-main").innerHTML)return JotForm.errored(e,JotForm.texts.required)}else if(JotForm.getContainer(e).getAttribute("data-type")==="control_datetime"){if(!e.value||e.value.strip(" ").empty())return JotForm.errored(e,JotForm.texts.required);if(e.id&&e.id.indexOf("lite_mode_")>-1){var X=e.readAttribute("seperator")||e.readAttribute("data-seperator"),M=(e.readAttribute("format")||e.readAttribute("data-format")).toLowerCase();if(e.value.length!==X.length*2+M.length)return JotForm.errored(e,JotForm.texts.dateInvalid.replace("{format}",M))}if(JotForm.getContainer(e).hasClassName("form-datetime-validation-error"))return JotForm.errored(e,"Enter a valid date")}else if((!e.value||e.value.strip(" ").empty()||e.value.replace("<br>","").empty()||e.value=="Please Select")&&e.readAttribute("type")!="radio"&&e.readAttribute("type")!="checkbox"&&!$(e.parentNode).hasClassName("form-matrix-values"))return JotForm.errored(e,JotForm.texts.required);s=s.without("required")}else if(e.value.empty())return!0;if(!s[0])return!0;switch(s[0]){case"Email":e.value=e.value.replace(/^\s+|\s+$/g,"");if(!n.email.test(e.value))return JotForm.errored(e,JotForm.texts.email);break;case"Alphabetic":if(!n.alphabetic.test(e.value))return JotForm.errored(e,JotForm.texts.alphabetic);break;case"Numeric":if(!n.numeric.test(e.value)&&!n.numericDotStart.test(e.value))return JotForm.errored(e,JotForm.texts.numeric);break;case"AlphaNumeric":if(!n.alphanumeric.test(e.value))return JotForm.errored(e,JotForm.texts.alphanumeric);break;case"Cyrillic":if(!n.cyrillic.test(e.value))return JotForm.errored(e,JotForm.texts.cyrillic);break;case"Url":if(!n.url.test(e.value))return JotForm.errored(e,JotForm.texts.url);break;case"Currency":if(e.up(".form-matrix-table")){if(e.up(".form-matrix-table").select("input").collect(function(e){return!n.currency.test(e.value)}).any())return JotForm.errored(e,JotForm.texts.currency)}else if(!n.currency.test(e.value))return JotForm.errored(e,JotForm.texts.currency);break;case"Fill Mask":if(e.readAttribute("masked")=="true"&&!jQuery(e).inputmask("isComplete"))return JotForm.errored(e,JotForm.texts.fillMask);break;default:}return JotForm.corrected(e)};var i=function(n){setTimeout(function(){!t.lastFocus||t.lastFocus!=e&&t.getContainer(t.lastFocus)==t.getContainer(e)?(e.type=="hidden"||e.type=="file")&&e.validateInput():e.validateInput()},10)};e.type=="hidden"||e.type=="file"?e.observe("change",i):e.observe("blur",i);if(e.type=="checkbox"||e.type=="radio"){e.observe("click",function(){e.validateInput()});e.next()&&e.next().hasClassName("form-"+e.type+"-other-input")&&
e.next().observe("keyup",function(){e.validateInput()})}e.hasClassName("form-textarea")&&e.up("div").down(".nicEdit-main")&&e.up("div").down(".nicEdit-main").observe("blur",i);if(e.up(".form-spinner")){var s=function(){e.validateInput()};e.up(".form-spinner").down(".form-spinner-up").observe("click",s);e.up(".form-spinner").down(".form-spinner-down").observe("click",s)}},FBInit:function(){JotForm.FBNoSubmit=!0;FB.getLoginStatus(function(e){e.authResponse?JotForm.FBCollectInformation(e.authResponse.userID):FB.Event.subscribe("auth.login",function(e){JotForm.FBCollectInformation(e.authResponse.userID)})})},FBCollectInformation:function(e){JotForm.FBNoSubmit=!1;var t=$$(".form-helper").collect(function(e){var t="",n=e.readAttribute("data-info").replace("user_","");switch(n){case"can_be_anyvalue":t="place correct one here";break;case"sex":t="gender";break;case"about_me":t="bio";break;default:t=n}return[t,e.id]}),n={},r=!1;$A(t).each(function(e){e[0]=="pic_with_logo"&&(r={fieldID:e[1]});e[0]!=="username"&&(n[e[0]]=e[1])});var i=$H(n).keys().without("pic_with_logo"),s=function(t,n){JotForm.bringOldFBSubmissionBack(e);var r=(new Element("input",{type:"hidden",name:"fb_user_id"})).setValue(e),i=JotForm.getForm(t);i.insert({top:r})};try{FB.api("/"+e,{fields:i},function(t){var i;$H(t).each(function(e){if($(n[e.key])){i=$(n[e.key]);switch(e.key){case"location":i.value=e.value.name;break;case"website":i.value=e.value.split(/\s+/).join(", ");break;default:i.value=e.value}}});r?FB.api("/"+e+"/picture",function(t){t.data.url&&$(r.fieldID)&&($(r.fieldID).value=t.data.url);s(i,e)}):s(i,e)})}catch(o){console.error(o)}$$(".fb-login-buttons").invoke("show");$$(".fb-login-label").invoke("hide")},bringOldFBSubmissionBack:function(e){var t=$$('input[name="formID"]')[0],n=new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"bringOldFBSubmissionBack",formID:t.value,fbid:e},evalJSON:"force",onComplete:function(e){var t=e.responseJSON;t.success&&JotForm.editMode(t,!0,["control_helper","control_fileupload"])}})},setCustomHint:function(e,t){var n=$(e)||null,r=t.replace(/<br>/gim,"\n")||"";n.addClassName("custom-hint-group").writeAttribute("data-customhint",t).writeAttribute("customhinted","true");n.hasContent=n.value&&n.value.replace(/\n/gim,"<br>")!=t?!0:!1;n.showCustomPlaceHolder=function(){if(!this.hasContent){this.value=r;this.writeAttribute("spellcheck","false").addClassName("form-custom-hint")}};n.hideCustomPlaceHolder=function(){if(!this.hasContent){this.value="";this.removeClassName("form-custom-hint").removeAttribute("spellcheck")}};n.observe("focus",function(e){this.hideCustomPlaceHolder()}).observe("blur",function(e){this.showCustomPlaceHolder()}).observe("keyup",function(e){this.hasContent=this.value.length>0&&this.value!==r?!0:!1}).observe("paste",function(e){$this=this;setTimeout(function(){$this.hasContent=$this.value.length>0&&$this.value!==r?!0:!1},2)});n&&n.type==="textarea"&&n.hasAttribute("data-richtext")&&setTimeout(function(){var e=$$("#id_"+n.id.replace("input_","")+" .nicEdit-main")[0]||null,t=nicEditors.findEditor(n.id);if(e){n.hasContent||e.setStyle({color:"#babbc0"});e.observe("blur",function(){if(!t.getContent()||t.getContent()==="<br>"){e.setStyle({color:"#babbc0"});t.setContent(r);n.writeAttribute("spellcheck","false").addClassName("form-custom-hint")}});e.observe("focus",function(){e.setStyle({color:""});n.removeClassName("form-custom-hint").removeAttribute("spellcheck");t.getContent()===r&&t.setContent("")})}},1e3);n.up("form.jotform-form").observe("submit",function(){this.select(".custom-hint-group").each(function(e){e.hideCustomPlaceHolder()})});n.showCustomPlaceHolder()},fieldHasContent:function(e){if($("id_"+e).hasClassName("form-line-error"))return!1;if($("id_"+e).select(".form-custom-hint").length>0)return!1;var t=JotForm.getInputType(e);switch(t){case"address":case"combined":return $$("#id_"+e+" input").collect(function(e){return e.value}).any();case"number":return $$("#id_"+e+" input").collect(function(e){return e.value.length>0}).any();case"birthdate":return JotForm.getBirthDate(e);case"datetime":var n=JotForm.getDateValue(e);return n!="T00:00"&&n!="";case"time":return JotForm.get24HourTime(e);case"checkbox":case"radio":return $$("#id_"+e+" input").collect(function(e){return e.checked}).any();case"select":return $$("#id_"+e+" select").collect(function(e){return e.value}).any();case"grading":return $$("input[id^=input_"+e+"_]").collect(function(e){return e.value}).any();case"signature":return jQuery("#id_"+e).find(".pad").jSignature("getData","base30")[1].length>0;case"slider":return $("input_"+e).value>0;case"file":return $$("#id_"+e+" input")[0].readAttribute("multiple")==="multiple"||$$("#id_"+e+" input")[0].readAttribute("multiple")===""?$("id_"+e).select(".qq-upload-list li").length>0:$("input_"+e).value;default:return $("input_"+e)&&$("input_"+e).value?$("input_"+e).value:!1}},setupProgressBar:function(){JotForm.progressBar=new ProgressBar("progressBar",{height:"20px",width:"95%"});var e=["select","radio","checkbox","file","combined","email","address","combined","datetime","time","birthdate","number","radio","number","radio","autocomplete","radio","text","textarea","signature","div","slider"],t=0,n=0,r=function(){n=0;$$(".form-line").each(function(t){var r=t.id.split("_")[1],i=JotForm.getInputType(r);$A(e).include(i)&&JotForm.fieldHasContent(r)&&n++});var r=parseInt(100/t*n);isNaN(r)&&(r=0);JotForm.progressBar.setPercent(r);$("progressPercentage").update(r+"% ");$("progressCompleted").update(n);r==100?$("progressSubmissionReminder").show():$("progressSubmissionReminder").hide()},i=function(e,t){$(e).observe(t,function(){r()})};$$(".form-line").each(function(n){var r=n.id.split("_")[1],s=JotForm.getInputType(r);if(!e.include(s))return;t++;switch(s){case"radio":case"checkbox":i($("id_"+r),"click");break;case"select":case"file":i($("id_"+r),"change");break;case"datetime":i($("id_"+r),"date:changed");$$("#id_"+r+" select").each(function(e){i($(e),"change")});break;case"time":case"birthdate":$$("#id_"+r+" select").each(function(e){i($(e),"change")});break;case"address":i($("id_"+r),"keyup");break;case"number":i($("id_"+r),"keyup");i($("id_"+r),"click");break;case"signature":i($("id_"+r),"click");break;default:i($("id_"+r),"keyup")}});$("progressTotal").update(t);r()},setupRichArea:function(e){if(!(!Prototype.Browser.IE9&&!Prototype.Browser.IE10&&Prototype.Browser.IE)){if(!JotForm.isVisible(e)){$("id_"+e).up(".form-section")&&$("id_"+e).up(".form-section").show();JotForm.showField(e)}(new nicEditor({iconsPath:location.protocol+"//www.jotform.com/images/nicEditorIcons.gif?v2"})).panelInstance("input_"+e);JotForm.updateAreaFromRich(e)}},updateAreaFromRich:function(e){try{var t=$("id_"+e).down(".nicEdit-main"),n=$("id_"+e).down("textarea");t&&n&&t.observe("keyup",function(){n.value=t.innerHTML;n.triggerEvent&&n.triggerEvent("keyup")})}catch(r){console.error(r)}},autoFillInitialize:function(e){if(this.isEditMode())return;var t=$$('input[name="formID"]')[0].value;e.name="form_"+t;var n="form#"+t,r=$$(n)[0],i=["formID","simple_spc","temp_upload_folder"];r.writeAttribute("data-autofill","true");var s={_handleCustomHint:function(e){var t=e.protectedfields,n=e.protectedfieldsdata,r=0;$H(n).each(function(e){var n=t[r],i=$(n),s=e[1],o=s.newinputvalue?s.newinputvalue.replace(/\n/gim,"<br>"):!1;if(i.hasAttribute("data-customhint")||i.hasAttribute("customhinted")){var u=i.readAttribute("data-customhint");if(u&&o&&u!=o){i.removeClassName("form-custom-hint");i.hasContent=!0}}else if(i.hasAttribute("hinted")||i.hinted){var u=s.oldinputvalue?s.oldinputvalue.replace(/\n/gim,"<br>"):!1;u&&o&&u!=o&&i.setStyle({color:"#000"})}r++})},_handleGradingTotal:function(e){if($$(".form-grading-input").length>0&&$("grade_total_"+n)){var t=0,n=null;$$(".form-grading-input").each(function(e){n=e.id.replace(/input_(\d+)_\d+/,"$1"),t+=parseFloat(e.value)||0});$("grade_point_"+n).innerHTML=t}},_handleRichText:function(e){$$(".nicEdit-main").each(function(e){var t=e.up(".form-line").down("textarea");t&&(e.innerHTML=t.value)})},_handleStarRating:function(e){$$(".form-star-rating").each(function(e){e.setRating(e.down("input").value)})},_handlePaymentTotal:function(){$("payment_total")&&JotForm.totalCounter(JotForm.prices)}};JotForm.payment&&$$(".form-product-item > input.form-product-has-subproducts").length>0&&$$('.form-line[data-type="control_authnet"] select, .form-line[data-type="control_authnet"] input').each(function(e){e.id&&i.push(e.id)});jQuery(n).autoFill({timeout:Number(e.timeout)>0?e.timeout:4,excludeFields:i,ttl:e.ttl,allowBindOnChange:e.bindChange&&e.bindChange=="on"?!0:!1,onBeforeSave:function(){},onSave:function(){},onRelease:function(){},onBeforeRestore:function(){},onRestore:function(e){var t=this.restoredData[0];if(t){s._handleCustomHint(t);s._handleGradingTotal(t);s._handleRichText(t);s._handleStarRating(t);s._handlePaymentTotal(t)}}});this.runAllConditions();this.autoFillDeployed=!0},runAllConditions:function(){$H(JotForm.fieldConditions).each(function(e){var t=e.key,n=e.value.event;if(!$(t))return;["autofill","number","autocomplete"].include(n)&&(n="keyup");$(t).run(n)});JotForm.isEditMode()&&(JotForm.ignoreInsertionCondition=null)},setQuestionMasking:function(e,t,n,r){if(!n)return;n=n.replace(/&#39;/g,"'");var r=r?r:!1,i={};i["#"]={validator:"[0-9]",cardinality:1};t==="textMasking"&&(i["@"]={validator:"[A-Za-zА-яЁё一-鿿]",cardinality:1});jQuery.extend(jQuery.inputmask.defaults.definitions,i);if(r)jQuery(e).inputmask("remove");else{jQuery(e).inputmask(n,{placeholder:"_"});jQuery(e).attr("maskValue",n)}},setInputTextMasking:function(e,t,n){setTimeout(function(){JotForm.setQuestionMasking("#"+e,"textMasking",t,n)},10)},setPhoneMaskingValidator:function(e,t,n){setTimeout(function(){JotForm.setQuestionMasking("#"+e,"phoneMasking",t,n)},10)},loadScript:function(){function i(){e--;e||t()}var e=arguments.length,t,n=arguments[e-1]instanceof Function,r;if(n){e--;t=arguments[arguments.length-1]}else t=function(){};for(var s=0;s<e;s++){r=document.createElement("script");r.src=arguments[s];if(typeof r.addEventListener!="undefined")r.addEventListener("load",t,!1);else{var o=function(){r.readyState=="loaded"&&t()};r.attachEvent("onreadystatechange",o)}(document.head||document.getElementsByTagName("head")[0]).appendChild(r)}},loadStyleSheet:function(e,t){var n=document.createElement("link");n.setAttribute("type","text/css");n.setAttribute("rel","stylesheet");n.setAttribute("href",e);(document.head||document.getElementsByTagName("head")[0]).appendChild(n);n.readyState?n.onreadystatechange=function(){if(n.readyState=="loaded"||n.readyState=="complete"){n.onreadystatechange=null;t&&t()}}:navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome/i)?t&&t():n.onload=function(){t&&t()}},isStyleSheetLoaded:function(e){var t=!1,n=document.styleSheets;for(var r in n){var i=n[r];if(i.href&&!!~i.href.indexOf(e)){t=!0;break}}return t},track:function(e,t){function c(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function h(e){var t="//events.jotform.com/";n.jsForm?t+="jsform/":t+="form/";var r=t+i+"/",u;a&&f&&(u=f+"x"+a);r=r+"?ref="+encodeURIComponent(s);u&&(r=r+"&res="+encodeURIComponent(u));e&&(r=r+"&eventID="+encodeURIComponent(e));r=r+"&loc="+encodeURIComponent(o);var l=new Image;l.id="event_tracking_image";l.src=r;l.style.display="none";return l}function p(e){var t=document.createElement("input");t.setAttribute("type","hidden");t.setAttribute("name","event_id");t.value=e;r.appendChild(t)}function d(){return 1*new Date+"_"+i+"_"+v(7)}function v(e){charSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var t="";for(var n=0;n<e;n++){var r=Math.floor(Math.random()*charSet.length);t+=charSet.substring(r,r+1)}return t}var n=this;if($$("#event_tracking_image").length>0)return;var r=$$(".jotform-form")[0],i=r.getAttribute("id"),s,o;try{s=encodeURIComponent(document.referrer)}catch(u){s="undefined"}try{o=encodeURIComponent(window.top.location.href)}catch(u){o="undefined"}var a=window.screen.height,f=window.screen.width;if(!i)return!1;if(r){var l=d();c(h(l),r);p(l)}},additionalActionsFormEmbedded:function(){var e=this,t=getQuerystring("embeddedvia");if(t&&t==="weebly"&&!e.isStyleSheetLoaded("mobile.responsive.min.css")){var n="https://widgets.jotform.io/mobileResponsive/mobile.responsive.min.css";e.loadStyleSheet(n,function(){e.handleIFrameHeight()})}},changeSubmitURL:function(e){if(e.length>0)for(var t=this.forms.length-1;t>=0;t--){var n=this.forms[t];n.action=n.action.replace(/\/\/submit\..*?\//,"//"+e+"/")}},handleChinaCensorship:function(){this.getClientCountry(function(e){var t=e.country;t.length>0&&t.toLowerCase()==="cn"&&this.changeSubmitURL("china.jotfor.ms")}.bind(this))},handlePreview:function(e){$$("body")[0].setStyle({overflowX:"hidden"});$A(JotForm.forms).each(function(t){var n=document.createElement("input");n.setAttribute("type","hidden");n.setAttribute("name","preview");n.value="true";t.appendChild(n);if(e===!0){var r=document.createElement("script");r.setAttribute("type","text/javascript");r.setAttribute("src","//cdn.jotfor.ms/js/form-tester.js?rev="+(new Date).getTime());t.appendChild(r)}})},getClientCountry:function(e){new Ajax.Request("//china.jotfor.ms/opt/geo.ip.php",{evalJSON:"force",onComplete:function(t){t.status===200?e(t.responseJSON):e({country:""})}})}};window.fbAsyncInit=JotForm.FBInit.bind(JotForm);